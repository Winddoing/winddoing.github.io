<!DOCTYPE html><html lang=zh-CN><head><meta charset=UTF-8><meta name=viewport content="width=device-width"><meta name=theme-color content=#222 media="(prefers-color-scheme: light)"><meta name=theme-color content=#222 media="(prefers-color-scheme: dark)"><meta name=generator content="Hexo 6.2.0"><link rel=preconnect href=https://fonts.googleapis.com crossorigin><link rel=preconnect href=https://cdnjs.cloudflare.com crossorigin><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon-next.png><link rel=icon type=image/png sizes=32x32 href=/favicon.ico><link rel=icon type=image/png sizes=16x16 href=/favicon.ico><link rel=mask-icon href=/images/logo.svg color=#222><meta name=baidu-site-verification content=WIIeufYjj6><link rel=stylesheet href=/css/main.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Microsoft+YaHei:300,300italic,400,400italic,700,700italic%7Ccmmi10:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css integrity="sha256-DfWjNxDkM94fVBWx1H5BMMp0Zq7luBlV8QRcSES7s+0=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin=anonymous><script class=next-config data-name=main type=application/json>{"hostname":"winddoing.github.io","root":"/","images":"/images","scheme":"Mist","darkmode":true,"version":"8.12.1","exturl":true,"sidebar":{"position":"right","display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":"default"},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":"utterances","storage":true,"lazyload":false,"nav":null,"activeClass":"utterances"},"stickytabs":false,"motion":{"enable":true,"async":true,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src=/js/config.js></script><meta name=description content="常用的shell命令： find, cat"><meta property=og:type content=article><meta property=og:title content=常用的shell命令><meta property=og:url content=https://winddoing.github.io/post/1644.html><meta property=og:site_name content="Winddoing&#39;s Notes"><meta property=og:description content="常用的shell命令： find, cat"><meta property=og:locale content=zh_CN><meta property=article:published_time content=2015-06-17T17:49:00.000Z><meta property=article:modified_time content=2023-12-16T04:58:17.925Z><meta property=article:author content=winddoing><meta property=article:tag content=shell><meta name=twitter:card content=summary><link rel=canonical href=https://winddoing.github.io/post/1644.html><script class=next-config data-name=page type=application/json>{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://winddoing.github.io/post/1644.html","path":"post/1644.html","title":"常用的shell命令"}</script><script class=next-config data-name=calendar type=application/json>""</script><title>常用的shell命令 | Winddoing's Notes</title><script src=/js/third-party/analytics/baidu-analytics.js></script><script async src=https://hm.baidu.com/hm.js?b96a560ce0a6bfbeaaddc59dc5888b75></script><noscript><link rel=stylesheet href=/css/noscript.css></noscript></head><body itemscope itemtype=http://schema.org/WebPage class=use-motion><div class=headband></div><main class=main><header class=header itemscope itemtype=http://schema.org/WPHeader><div class=header-inner><div class=site-brand-container><div class=site-nav-toggle><div class=toggle aria-label=切换导航栏 role=button><span class=toggle-line></span> <span class=toggle-line></span> <span class=toggle-line></span></div></div><div class=site-meta><a href="/" class=brand rel=start><i class=logo-line></i><p class=site-title>Winddoing's Notes</p><i class=logo-line></i></a><p class=site-subtitle itemprop=description>Follow Excellent, Success will Chase you</p></div><div class=site-nav-right><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class=site-nav><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel=section><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel=section><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel=section><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel=section><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-search"><a role=button class=popup-trigger><i class="fa fa-search fa-fw"></i>搜索</a></li></ul></nav><div class=search-pop-overlay><div class="popup search-popup"><div class=search-header><span class=search-icon><i class="fa fa-search"></i></span><div class=search-input-container><input autocomplete=off autocapitalize=off maxlength=80 placeholder=搜索... spellcheck=false type=search class=search-input></div><span class=popup-btn-close role=button><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class=search-result-icon><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></div><div class="toggle sidebar-toggle" role=button><span class=toggle-line></span> <span class=toggle-line></span> <span class=toggle-line></span></div><aside class=sidebar><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class=sidebar-nav><li class=sidebar-nav-toc>文章目录</li><li class=sidebar-nav-overview>站点概览</li></ul><div class=sidebar-panel-container><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class=nav><li class="nav-item nav-level-2"><a class=nav-link href=#%E6%A0%B9%E6%8D%AE%E6%96%87%E4%BB%B6inode%E4%BF%A1%E6%81%AF%E6%9F%A5%E6%89%BE%E6%96%87%E4%BB%B6><span class=nav-number>1.</span> <span class=nav-text>根据文件inode信息查找文件</span></a></li><li class="nav-item nav-level-2"><a class=nav-link href=#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E4%B8%8D%E8%83%BD%E7%99%BB%E5%BD%95%E7%9A%84%E8%B4%A6%E6%88%B7><span class=nav-number>2.</span> <span class=nav-text>创建一个不能登录的账户</span></a></li><li class="nav-item nav-level-2"><a class=nav-link href=#%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BD%AC%E4%BA%8C%E8%BF%9B%E5%88%B6><span class=nav-number>3.</span> <span class=nav-text>字符串转二进制</span></a></li><li class="nav-item nav-level-2"><a class=nav-link href=#%E6%9F%A5%E7%9C%8B%E4%B8%AD%E6%96%AD%E4%B8%8ECPU%E7%9A%84%E7%BB%91%E5%AE%9A%E5%85%B3%E7%B3%BB><span class=nav-number>4.</span> <span class=nav-text>查看中断与CPU的绑定关系</span></a></li><li class="nav-item nav-level-2"><a class=nav-link href=#%E5%86%85%E5%AD%98%E8%AF%BB%E5%86%99%E9%80%9F%E5%BA%A6%E6%B5%8B%E8%AF%95><span class=nav-number>5.</span> <span class=nav-text>内存读写速度测试</span></a></li><li class="nav-item nav-level-2"><a class=nav-link href=#%E6%9F%A5%E7%9C%8B%E5%BD%93%E5%89%8DCPU%E8%BF%90%E8%A1%8C%E9%A2%91%E7%8E%87><span class=nav-number>6.</span> <span class=nav-text>查看当前CPU运行频率</span></a></li><li class="nav-item nav-level-2"><a class=nav-link href=#%E6%96%87%E4%BB%B6%E6%8C%87%E5%AE%9A%E8%A1%8C%E6%95%B0%E7%9A%84%E5%AD%97%E7%AC%A6%E5%A4%A7%E5%86%99%E8%BD%AC%E5%B0%8F%E5%86%99><span class=nav-number>7.</span> <span class=nav-text>文件指定行数的字符大写转小写</span></a></li><li class="nav-item nav-level-2"><a class=nav-link href=#%E5%88%A0%E9%99%A4%E6%89%80%E6%9C%89%E6%96%87%E4%BB%B6%E8%A1%8C%E5%B0%BE%E7%A9%BA%E6%A0%BC><span class=nav-number>8.</span> <span class=nav-text>删除所有文件行尾空格</span></a></li><li class="nav-item nav-level-2"><a class=nav-link href=#%E8%BF%9B%E7%A8%8BCPU%E5%8D%A0%E6%9C%89%E7%8E%87%E6%8E%92%E5%BA%8F><span class=nav-number>9.</span> <span class=nav-text>进程CPU占有率排序</span></a></li><li class="nav-item nav-level-2"><a class=nav-link href=#%E5%88%A4%E6%96%AD%E8%BF%9B%E7%A8%8B%E5%9C%A8%E5%93%AA%E4%B8%AACPU%E6%A0%B8%E8%BF%90%E8%A1%8C%E7%9A%84%E6%96%B9%E6%B3%95><span class=nav-number>10.</span> <span class=nav-text>判断进程在哪个CPU核运行的方法</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#ps><span class=nav-number>10.1.</span> <span class=nav-text>ps</span></a></li><li class="nav-item nav-level-3"><a class=nav-link href=#top><span class=nav-number>10.2.</span> <span class=nav-text>top</span></a></li></ol></li><li class="nav-item nav-level-2"><a class=nav-link href=#%E6%9D%80%E6%AD%BB%E5%83%B5%E5%B0%B8%E8%BF%9B%E7%A8%8B><span class=nav-number>11.</span> <span class=nav-text>杀死僵尸进程</span></a></li><li class="nav-item nav-level-2"><a class=nav-link href=#iptux%E2%80%93%E5%B1%80%E5%9F%9F%E7%BD%91%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E2%80%93%E9%A3%9E%E7%A7%8B><span class=nav-number>12.</span> <span class=nav-text>iptux–局域网数据传输–飞秋</span></a></li><li class="nav-item nav-level-2"><a class=nav-link href=#%E6%95%B0%E6%8D%AE%E9%94%80%E6%AF%81%E5%92%8C%E6%97%A5%E5%BF%97%E6%B8%85%E7%90%86><span class=nav-number>13.</span> <span class=nav-text>数据销毁和日志清理</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#bleachbit><span class=nav-number>13.1.</span> <span class=nav-text>bleachbit</span></a></li><li class="nav-item nav-level-3"><a class=nav-link href=#shred><span class=nav-number>13.2.</span> <span class=nav-text>shred</span></a></li><li class="nav-item nav-level-3"><a class=nav-link href=#wipe><span class=nav-number>13.3.</span> <span class=nav-text>wipe</span></a></li></ol></li><li class="nav-item nav-level-2"><a class=nav-link href=#CPU%E4%BF%A1%E6%81%AF><span class=nav-number>14.</span> <span class=nav-text>CPU信息</span></a></li><li class="nav-item nav-level-2"><a class=nav-link href=#nproc><span class=nav-number>15.</span> <span class=nav-text>nproc</span></a></li><li class="nav-item nav-level-2"><a class=nav-link href=#apt-build-dep><span class=nav-number>16.</span> <span class=nav-text>apt build-dep</span></a></li><li class="nav-item nav-level-2"><a class=nav-link href=#tasksel><span class=nav-number>17.</span> <span class=nav-text>tasksel</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#ubuntu-Desktop><span class=nav-number>17.1.</span> <span class=nav-text>ubuntu Desktop</span></a></li></ol></li><li class="nav-item nav-level-2"><a class=nav-link href=#find><span class=nav-number>18.</span> <span class=nav-text>find</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#%E6%89%B9%E9%87%8F%E4%BF%AE%E6%94%B9%E6%96%87%E4%BB%B6%E5%90%8D%E5%90%8E%E7%BC%80><span class=nav-number>18.1.</span> <span class=nav-text>批量修改文件名后缀</span></a></li></ol></li><li class="nav-item nav-level-2"><a class=nav-link href=#cat><span class=nav-number>19.</span> <span class=nav-text>cat</span></a></li><li class="nav-item nav-level-2"><a class=nav-link href=#tee><span class=nav-number>20.</span> <span class=nav-text>tee</span></a></li><li class="nav-item nav-level-2"><a class=nav-link href=#ssh><span class=nav-number>21.</span> <span class=nav-text>ssh</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#%E8%B7%A8%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%8B%B7%E8%B4%9D%E6%96%87%E4%BB%B6><span class=nav-number>21.1.</span> <span class=nav-text>跨服务器拷贝文件</span></a></li><li class="nav-item nav-level-3"><a class=nav-link href=#ssh%E7%9A%84key%E5%80%BC><span class=nav-number>21.2.</span> <span class=nav-text>ssh的key值</span></a></li><li class="nav-item nav-level-3"><a class=nav-link href=#ssh%E7%99%BB%E5%BD%95%E5%88%B0%E8%BF%9C%E7%A8%8B%E7%9A%84%E7%89%B9%E5%AE%9A%E7%9B%AE%E5%BD%95><span class=nav-number>21.3.</span> <span class=nav-text>ssh登录到远程的特定目录</span></a></li><li class="nav-item nav-level-3"><a class=nav-link href=#%E9%80%9A%E8%BF%87root%E8%B4%A6%E6%88%B7ssh%E7%99%BB%E5%BD%95><span class=nav-number>21.4.</span> <span class=nav-text>通过root账户ssh登录</span></a></li><li class="nav-item nav-level-3"><a class=nav-link href=#ssh%E6%95%B0%E6%8D%AE%E7%9A%84%E5%8E%8B%E7%BC%A9%E4%BC%A0%E8%BE%93><span class=nav-number>21.5.</span> <span class=nav-text>ssh数据的压缩传输</span></a></li></ol></li><li class="nav-item nav-level-2"><a class=nav-link href=#tftp><span class=nav-number>22.</span> <span class=nav-text>tftp</span></a></li><li class="nav-item nav-level-2"><a class=nav-link href=#cpio><span class=nav-number>23.</span> <span class=nav-text>cpio</span></a></li><li class="nav-item nav-level-2"><a class=nav-link href=#minicom><span class=nav-number>24.</span> <span class=nav-text>minicom</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#ttyUSB0%E6%9D%83%E9%99%90%E9%97%AE%E9%A2%98><span class=nav-number>24.1.</span> <span class=nav-text>ttyUSB0权限问题</span></a></li><li class="nav-item nav-level-3"><a class=nav-link href=#%E4%B8%B2%E5%8F%A3%E8%BE%93%E5%87%BA%E5%A2%9E%E5%8A%A0%E6%97%B6%E9%97%B4%E6%88%B3%EF%BC%9A><span class=nav-number>24.2.</span> <span class=nav-text>串口输出增加时间戳：</span></a></li><li class="nav-item nav-level-3"><a class=nav-link href=#%E4%B8%B2%E5%8F%A3%E6%89%93%E5%8D%B0%E5%86%85%E5%AD%98%E4%BF%A1%E6%81%AF%EF%BC%9A><span class=nav-number>24.3.</span> <span class=nav-text>串口打印内存信息：</span></a><ol class=nav-child><li class="nav-item nav-level-4"><a class=nav-link href=#enable-the-magic-SysRq-key><span class=nav-number>24.3.1.</span> <span class=nav-text>enable the magic SysRq key</span></a></li></ol></li><li class="nav-item nav-level-3"><a class=nav-link href=#kermit%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93><span class=nav-number>24.4.</span> <span class=nav-text>kermit文件传输</span></a></li></ol></li><li class="nav-item nav-level-2"><a class=nav-link href=#sshfs><span class=nav-number>25.</span> <span class=nav-text>sshfs</span></a></li><li class="nav-item nav-level-2"><a class=nav-link href=#md5sum-%E2%80%94-%E5%AD%97%E7%AC%A6%E4%B8%B2><span class=nav-number>26.</span> <span class=nav-text>md5sum — 字符串</span></a></li><li class="nav-item nav-level-2"><a class=nav-link href=#%E6%9F%A5%E7%9C%8B%E7%A1%AC%E7%9B%98%E5%9E%8B%E5%8F%B7%E5%92%8C%E5%BA%8F%E5%88%97%E5%8F%B7><span class=nav-number>27.</span> <span class=nav-text>查看硬盘型号和序列号</span></a></li><li class="nav-item nav-level-2"><a class=nav-link href=#%E8%8E%B7%E5%8F%96%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A1%AC%E4%BB%B6%E4%BF%A1%E6%81%AF><span class=nav-number>28.</span> <span class=nav-text>获取计算机硬件信息</span></a></li><li class="nav-item nav-level-2"><a class=nav-link href=#%E6%A0%BC%E5%BC%8F%E5%8C%96xml><span class=nav-number>29.</span> <span class=nav-text>格式化xml</span></a></li><li class="nav-item nav-level-2"><a class=nav-link href=#tldr><span class=nav-number>30.</span> <span class=nav-text>tldr</span></a></li><li class="nav-item nav-level-2"><a class=nav-link href=#top-1><span class=nav-number>31.</span> <span class=nav-text>top</span></a></li><li class="nav-item nav-level-2"><a class=nav-link href=#sed><span class=nav-number>32.</span> <span class=nav-text>sed</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#%E5%B0%86%E5%BD%93%E5%89%8D%E7%9B%AE%E5%BD%95-%E5%8C%85%E6%8B%AC%E5%AD%90%E7%9B%AE%E5%BD%95-%E6%96%87%E4%BB%B6%E4%B8%AD%E7%9A%84%E7%89%B9%E5%AE%9A%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B9%B6%E8%BF%9B%E8%A1%8C%E6%9B%BF%E6%8D%A2><span class=nav-number>32.1.</span> <span class=nav-text>将当前目录(包括子目录)文件中的特定字符串并进行替换</span></a></li><li class="nav-item nav-level-3"><a class=nav-link href=#%E5%BD%93%E5%89%8D%E7%9B%AE%E5%BD%95%E6%96%87%E4%BB%B6%E6%9B%BF%E6%8D%A2><span class=nav-number>32.2.</span> <span class=nav-text>当前目录文件替换</span></a></li></ol></li><li class="nav-item nav-level-2"><a class=nav-link href=#pkg-config><span class=nav-number>33.</span> <span class=nav-text>pkg-config</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#pkg-config%E9%BB%98%E8%AE%A4%E7%9A%84%E6%90%9C%E7%B4%A2%E8%B7%AF%E5%BE%84><span class=nav-number>33.1.</span> <span class=nav-text>pkg-config默认的搜索路径</span></a></li><li class="nav-item nav-level-3"><a class=nav-link href=#PKG-CONFIG-PATH><span class=nav-number>33.2.</span> <span class=nav-text>PKG_CONFIG_PATH</span></a></li></ol></li><li class="nav-item nav-level-2"><a class=nav-link href=#%E8%BF%90%E8%A1%8C%E6%97%B6%E5%BA%93%E7%9A%84%E8%BF%9E%E6%8E%A5><span class=nav-number>34.</span> <span class=nav-text>运行时库的连接</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#LD-LIBRARY-PATH><span class=nav-number>34.1.</span> <span class=nav-text>LD_LIBRARY_PATH</span></a></li></ol></li><li class="nav-item nav-level-2"><a class=nav-link href=#%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%9B%B4%E6%8E%A5%E6%89%93%E5%BC%80%E6%B5%8F%E8%A7%88%E5%99%A8%E8%BF%9B%E5%85%A5%E6%8C%87%E5%AE%9A%E7%BD%91%E9%A1%B5><span class=nav-number>35.</span> <span class=nav-text>命令行直接打开浏览器进入指定网页</span></a></li><li class="nav-item nav-level-2"><a class=nav-link href=#%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%9B%B4%E6%8E%A5%E6%89%93%E5%BC%80%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86%EF%BC%88ubuntu%EF%BC%89><span class=nav-number>36.</span> <span class=nav-text>命令行直接打开文件管理（ubuntu）</span></a></li><li class="nav-item nav-level-2"><a class=nav-link href=#%E5%8F%82%E8%80%83><span class=nav-number>37.</span> <span class=nav-text>参考</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author site-overview-item animated" itemprop=author itemscope itemtype=http://schema.org/Person><img class=site-author-image itemprop=image alt=winddoing src=/images/Winddoing.jpg><p class=site-author-name itemprop=name>winddoing</p><div class=site-description itemprop=description>失败缘于忽视细处，成功始于重视小事</div></div><div class="site-state-wrap site-overview-item animated"><nav class=site-state><div class="site-state-item site-state-posts"><a href="/archives/"><span class=site-state-item-count>358</span> <span class=site-state-item-name>日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class=site-state-item-count>112</span> <span class=site-state-item-name>分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class=site-state-item-count>284</span> <span class=site-state-item-name>标签</span></a></div></nav></div><div class="links-of-author site-overview-item animated"><span class=links-of-author-item><span class=exturl data-url="aHR0cHM6Ly9naXRodWIuY29tL1dpbmRkb2luZw==" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Winddoing"><i class="fab fa-github fa-fw"></i>GitHub</span></span> <span class=links-of-author-item><span class=exturl data-url=aHR0cHM6Ly9naXRlZS5jb20vd2luZGRvaW5n title="Gitee → https:&#x2F;&#x2F;gitee.com&#x2F;winddoing"><i class="fab fa-codiepie fa-fw"></i>Gitee</span></span> <span class=links-of-author-item><span class=exturl data-url="aHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS91c2Vycy85NTY3MzYxL3dpbmRkb2luZw==" title="StackOverflow → https:&#x2F;&#x2F;stackoverflow.com&#x2F;users&#x2F;9567361&#x2F;winddoing"><i class="fab fa-stack-overflow fa-fw"></i>StackOverflow</span></span> <span class=links-of-author-item><span class=exturl data-url="aHR0cHM6Ly9hcHAudHJhdmlzLWNpLmNvbS9naXRodWIvV2luZGRvaW5nL3dpbmRkb2luZy5naXRodWIuaW8=" title="Travis CI → https:&#x2F;&#x2F;app.travis-ci.com&#x2F;github&#x2F;Winddoing&#x2F;winddoing.github.io"><i class="fas fa-terminal fa-fw"></i>Travis CI</span></span></div><div class="cc-license site-overview-item animated" itemprop=license><span class="exturl cc-opacity" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC8="><img src=https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg alt="Creative Commons"></span></div><div class="links-of-blogroll site-overview-item animated"><div class=links-of-blogroll-title><i class="link fa-fw"></i> Links</div><ul class=links-of-blogroll-list><li class=links-of-blogroll-item><span class=exturl data-url="aHR0cHM6Ly93aW5kZG9pbmcuZ2l0Ym9vay5pby9lbWJlZGRlZF9saW51eF9ub3Rlcy8=" title=https:&#x2F;&#x2F;winddoing.gitbook.io&#x2F;embedded_linux_notes&#x2F;>嵌入式相关</span></li><li class=links-of-blogroll-item><span class=exturl data-url="aHR0cDovL2Jsb2cuY3Nkbi5uZXQvc2RyZWFtcQ==" title=http:&#x2F;&#x2F;blog.csdn.net&#x2F;sdreamq>CSDN</span></li><li class=links-of-blogroll-item><span class=exturl data-url=aHR0cDovL3d3dy53b3dvdGVjaC5uZXQv title=http:&#x2F;&#x2F;www.wowotech.net&#x2F;>蜗窝科技</span></li><li class=links-of-blogroll-item><span class=exturl data-url=aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3hpb25neGlhbnpl title=https:&#x2F;&#x2F;blog.csdn.net&#x2F;xiongxianze>xiongxianze</span></li></ul></div><div id=days></div><script>
function show_date_time(){
    window.setTimeout("show_date_time()", 1000);
    BirthDay=new Date("02/26/2014 15:00:00");
    today=new Date();
    timeold=(today.getTime()-BirthDay.getTime());
    sectimeold=timeold/1000
        secondsold=Math.floor(sectimeold);
    msPerDay=24*60*60*1000
        e_daysold=timeold/msPerDay
        daysold=Math.floor(e_daysold);
    e_hrsold=(e_daysold-daysold)*24;
    hrsold=setzero(Math.floor(e_hrsold));
    e_minsold=(e_hrsold-hrsold)*60;
    minsold=setzero(Math.floor((e_hrsold-hrsold)*60));
    seconds=setzero(Math.floor((e_minsold-minsold)*60));
    document.getElementById('days').innerHTML="已运行"+daysold+"天"+hrsold+"小时"+minsold+"分"+seconds+"秒";
}
function setzero(i){
    if (i<10)
    {i="0" + i};
    return i;
}
show_date_time();
</script></div></div></div></aside><div class=sidebar-dimmer></div></header><div class=back-to-top role=button aria-label=返回顶部><i class="fa fa-arrow-up"></i> <span>0%</span></div><div class=reading-progress-bar></div><noscript><div class=noscript-warning>Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner post posts-expand"><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang=zh-CN><link itemprop=mainEntityOfPage href=https://winddoing.github.io/post/1644.html><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content=/images/Winddoing.jpg><meta itemprop=name content=winddoing></span> <span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="Winddoing's Notes"><meta itemprop=description content=失败缘于忽视细处，成功始于重视小事></span> <span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="常用的shell命令 | Winddoing's Notes"><meta itemprop=description></span><header class=post-header><h1 class=post-title itemprop="name headline">常用的shell命令</h1><div class=post-meta-container><div class=post-meta><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-calendar"></i></span> <span class=post-meta-item-text>发表于</span><time title="创建时间：2015-06-18 01:49:00" itemprop="dateCreated datePublished" datetime=2015-06-18T01:49:00+08:00>2015-06-18</time></span> <span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-folder"></i></span> <span class=post-meta-item-text>分类于</span> <span itemprop=about itemscope itemtype=http://schema.org/Thing><a href="/categories/Shell/" itemprop=url rel=index><span itemprop=name>Shell</span></a></span></span> <span id=/post/1644.html class="post-meta-item leancloud_visitors" data-flag-title=常用的shell命令 title=阅读次数><span class=post-meta-item-icon><i class="far fa-eye"></i></span> <span class=post-meta-item-text>阅读次数：</span> <span class=leancloud-visitors-count></span></span> <span class=post-meta-item title=阅读次数 id=busuanzi_container_page_pv><span class=post-meta-item-icon><i class="far fa-eye"></i></span> <span class=post-meta-item-text>阅读次数：</span> <span id=busuanzi_value_page_pv></span></span> <span class=post-meta-break></span> <span class=post-meta-item title=本文字数><span class=post-meta-item-icon><i class="far fa-file-word"></i></span> <span class=post-meta-item-text>本文字数：</span> <span>11k</span></span> <span class=post-meta-item title=阅读时长><span class=post-meta-item-icon><i class="far fa-clock"></i></span> <span class=post-meta-item-text>阅读时长 &asymp;</span> <span>10 分钟</span></span></div></div></header><div class=post-body itemprop=articleBody><p>常用的shell命令： <code>find</code>, <code>cat</code></p><span id=more></span><h2 id=根据文件inode信息查找文件><a href=#根据文件inode信息查找文件 class=headerlink title=根据文件inode信息查找文件></a>根据文件inode信息查找文件</h2><ul><li><p>文件系统错误，有错误inode信息</p><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>EXT4-fs (sda7): Delayed block allocation failed for inode 23596895 at logical offset 673 with max blocks 1 with error 117</span><br></pre></td></tr></table></figure></li><li><p>查找文件</p><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>find /home/ -inum 23596895  -print</span><br></pre></td></tr></table></figure><blockquote><p>sda7挂载在home目录下。</p></blockquote></li></ul><h2 id=创建一个不能登录的账户><a href=#创建一个不能登录的账户 class=headerlink title=创建一个不能登录的账户></a>创建一个不能登录的账户</h2><p>创建一个git账户，不需要其登录系统</p><figure class="highlight shell"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>useradd -s /bin/false -M git</span><br></pre></td></tr></table></figure><ul><li><code>-s /bin/false</code>：禁止login选项，用户无法登录且不会有任何提示</li><li><code>-M</code> ：不创建用户Home目录</li></ul><h2 id=字符串转二进制><a href=#字符串转二进制 class=headerlink title=字符串转二进制></a>字符串转二进制</h2><figure class="highlight shell"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>echo 001122334455 | xxd -r -ps &gt; test            // 6 个字节</span><br></pre></td></tr></table></figure><ul><li><code>xxd</code> :用于用二进制或十六进制显示文件的内容</li><li><code>-r</code> :把xxd的十六进制输出内容转换回原文件的二进制内容</li><li><code>-ps</code> :以postscript的连续十六进制转储输出，这也叫做纯十六进制转储</li></ul><h2 id=查看中断与CPU的绑定关系><a href=#查看中断与CPU的绑定关系 class=headerlink title=查看中断与CPU的绑定关系></a>查看中断与CPU的绑定关系</h2><figure class="highlight shell"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>cat /proc/interrupts | grep intel | cut -d: -f1 | while read i; do echo -ne irq&quot;:$i\t bind_cpu: &quot;; cat /proc/irq/$i/smp_affinity_list; done | sort -n -t&#x27; &#x27; -k3</span><br></pre></td></tr></table></figure><h2 id=内存读写速度测试><a href=#内存读写速度测试 class=headerlink title=内存读写速度测试></a>内存读写速度测试</h2><figure class="highlight shell"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>dd if=/dev/zero of=/dev/null bs=1M count=1024</span><br></pre></td></tr></table></figure><h2 id=查看当前CPU运行频率><a href=#查看当前CPU运行频率 class=headerlink title=查看当前CPU运行频率></a>查看当前CPU运行频率</h2><figure class="highlight shell"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>watch -n 0.1 &quot;cat /proc/cpuinfo | grep \&quot;^[c]pu MHz\&quot;&quot;</span><br></pre></td></tr></table></figure><h2 id=文件指定行数的字符大写转小写><a href=#文件指定行数的字符大写转小写 class=headerlink title=文件指定行数的字符大写转小写></a>文件指定行数的字符大写转小写</h2><figure class="highlight shell"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>find -name &quot;*.md&quot; | xargs sed -i &#x27;4,9s/.*/\L&amp;/&#x27;</span><br></pre></td></tr></table></figure><h2 id=删除所有文件行尾空格><a href=#删除所有文件行尾空格 class=headerlink title=删除所有文件行尾空格></a>删除所有文件行尾空格</h2><figure class="highlight shell"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>find source/_posts/ -name &quot;*.md&quot; | xargs sed -i &#x27;s/[ ]*$//g&#x27;</span><br></pre></td></tr></table></figure><h2 id=进程CPU占有率排序><a href=#进程CPU占有率排序 class=headerlink title=进程CPU占有率排序></a>进程CPU占有率排序</h2><figure class="highlight shell"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>ps H -eo user,pid,ppid,tid,time,%cpu,cmd --sort=%cpu</span><br></pre></td></tr></table></figure><h2 id=判断进程在哪个CPU核运行的方法><a href=#判断进程在哪个CPU核运行的方法 class=headerlink title=判断进程在哪个CPU核运行的方法></a>判断进程在哪个CPU核运行的方法</h2><h3 id=ps><a href=#ps class=headerlink title=ps></a>ps</h3><figure class="highlight shell"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>ps -o pid,psr,cmd -p &lt;pid&gt;</span><br></pre></td></tr></table></figure><blockquote><p><code>PSR</code>: 进程分配的CPU id</p></blockquote><h3 id=top><a href=#top class=headerlink title=top></a>top</h3><p><code>top</code>命令也可以显示CPU被分配给哪个进程</p><ul><li>进入<code>top</code>后，按<code>f</code>键，出现Fields Management管理界面，(空格键选中)选择<code>P</code>选项(P &#x3D; Last Used Cpu (SMP))</li><li>top界面中目前使用的CPU将出现在”P”（或“PSR”）列下</li></ul><figure class="highlight shell"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>top -p &lt;pid&gt;</span><br></pre></td></tr></table></figure><blockquote><p>查看单独一个进程的信息</p></blockquote><h2 id=杀死僵尸进程><a href=#杀死僵尸进程 class=headerlink title=杀死僵尸进程></a>杀死僵尸进程</h2><figure class="highlight shell"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>kill -HUP &lt;PID&gt;</span><br></pre></td></tr></table></figure><h2 id=iptux–局域网数据传输–飞秋><a href=#iptux–局域网数据传输–飞秋 class=headerlink title=iptux–局域网数据传输–飞秋></a>iptux–局域网数据传输–飞秋</h2><blockquote><p>Linux中的iptux与window中的飞秋可以相互进行文件传输</p></blockquote><figure class="highlight shell"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>sudo apt install iptux</span><br></pre></td></tr></table></figure><ul><li><p>调整防火墙以允许使用TCP&#x2F;UDP<code>2425</code>端口</p><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>sudo ufw allow 2425</span><br></pre></td></tr></table></figure></li><li><p>中文乱码<br>设置编码方式: <code>cp936</code>(or <code>gbk</code>)</p><blockquote><p>工具栏设置: Tools -&gt; Preferences -&gt; System -&gt; Candidate network conding: <code>cp936</code></p></blockquote></li><li><p>配置文件</p><ul><li>配置文件: <code>.iptux/config.json</code></li><li>日志: <code>.config/iptux/</code></li></ul></li></ul><h2 id=数据销毁和日志清理><a href=#数据销毁和日志清理 class=headerlink title=数据销毁和日志清理></a>数据销毁和日志清理</h2><h3 id=bleachbit><a href=#bleachbit class=headerlink title=bleachbit></a>bleachbit</h3><blockquote><p>bleachbit 是一款开源免费的系统清理工具，功能类似 Windows 平台的 CCleaner</p></blockquote><h3 id=shred><a href=#shred class=headerlink title=shred></a>shred</h3><blockquote><p>shred 功能简单的说就是涂鸦，把一个文件用随机的字符码篡改的一塌糊涂。其宗旨就是更安全地帮助删除一个机密文件</p></blockquote><h3 id=wipe><a href=#wipe class=headerlink title=wipe></a>wipe</h3><blockquote><p>可安全地删除磁存储器中的文件，后续无法恢复已删除文件或目录的内容。</p></blockquote><h2 id=CPU信息><a href=#CPU信息 class=headerlink title=CPU信息></a>CPU信息</h2><ul><li>lscpu</li><li>lshw</li></ul><figure class="highlight shell"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br></pre></td><td class=code><pre><span class=line><span class="meta prompt_"># </span><span class=language-bash>lscpu</span></span><br><span class=line>...</span><br><span class=line>Byte Order:            Little Endian</span><br><span class=line>CPU(s):                256</span><br><span class=line>On-line CPU(s) list:   0-255</span><br><span class=line>Thread(s) per core:    4</span><br><span class=line>Core(s) per socket:    32</span><br><span class=line>Socket(s):             2</span><br><span class=line>NUMA node(s):          2</span><br><span class=line>Model:                 1</span><br><span class=line>CPU max MHz:           2500.0000</span><br><span class=line>CPU min MHz:           1000.0000</span><br><span class=line>BogoMIPS:              400.00</span><br></pre></td></tr></table></figure><ul><li><code>socket</code>: 主板上插CPU槽的数量</li><li><code>core</code>: CPU上的核数(物理核)</li><li><code>thread</code>: core上的硬件线程数(逻辑核)</li></ul><h2 id=nproc><a href=#nproc class=headerlink title=nproc></a>nproc</h2><blockquote><p>获取可用CPU的数量</p></blockquote><figure class="highlight shell"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>nproc</span><br></pre></td></tr></table></figure><h2 id=apt-build-dep><a href=#apt-build-dep class=headerlink title="apt build-dep"></a>apt build-dep</h2><figure class="highlight shell"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>sudo apt-get build-dep mesa</span><br></pre></td></tr></table></figure><blockquote><p>build-dep causes apt-get to install&#x2F;remove packages in an attempt to satisfy the build dependencies for a source package. By default the dependencies are satisfied to build the package natively. If desired a host-architecture can be specified with the <code>--host-architecture</code> option instead.</p></blockquote><p>根据源码编译时所需的关系包进行搜索并下载安装.建立要编译软件的环境.</p><figure class="highlight shell"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br></pre></td><td class=code><pre><span class=line><span class="meta prompt_">$</span><span class=language-bash>sudo apt build-dep mesa</span></span><br><span class=line>Reading package lists... Done</span><br><span class=line>Reading package lists... Done</span><br><span class=line>Building dependency tree</span><br><span class=line>Reading state information... Done</span><br><span class=line>The following NEW packages will be installed:</span><br><span class=line>  autopoint debhelper dh-autoreconf dh-strip-nondeterminism lib32gcc1 lib32stdc++6 libc6-i386 libclang-9-dev libclang-common-9-dev libclang1-9</span><br><span class=line>  libclc-dev libfile-stripnondeterminism-perl libglvnd-core-dev libobjc-7-dev libobjc4 libpfm4 libset-scalar-perl libva-dev libva-glx2</span><br><span class=line>  libvdpau-dev libvulkan-dev llvm-9 llvm-9-dev llvm-9-runtime llvm-9-tools po-debconf python-pygments python-yaml python3-pygments quilt</span><br><span class=line>The following packages will be upgraded:</span><br><span class=line>  cpp-7 g++-7 gcc-7 gcc-7-base gcc-8-base libasan4 libatomic1 libcc1-0 libcilkrts5 libgcc-7-dev libgcc1 libgomp1 libitm1 liblsan0 libmpx2</span><br><span class=line>  libquadmath0 libstdc++-7-dev libstdc++6 libtsan0 libubsan0</span><br><span class=line>20 upgraded, 30 newly installed, 0 to remove and 44 not upgraded.</span><br><span class=line>Need to get 101 MB of archives.</span><br><span class=line>After this operation, 477 MB of additional disk space will be used.</span><br><span class=line>Do you want to continue? [Y/n]</span><br></pre></td></tr></table></figure><h2 id=tasksel><a href=#tasksel class=headerlink title=tasksel></a>tasksel</h2><p><code>tasksel</code>命令是用来安装“任务”的，任务就是一些软件的组合，比如LAMP这个任务，就是由apache，php，MySQL等软件包组成，tasksel安装任务就是安装一系列的软件包而已。</p><blockquote><p>通过tasksel可以直接在server版，进行ubuntu桌面的安装</p></blockquote><h3 id=ubuntu-Desktop><a href=#ubuntu-Desktop class=headerlink title="ubuntu Desktop"></a>ubuntu Desktop</h3><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre></td><td class=code><pre><span class=line>sudo apt update</span><br><span class=line>sudo apt upgrade</span><br><span class=line>sudo tasksel</span><br></pre></td></tr></table></figure><blockquote><p>tasksel选择ubuntu Desktop进行安装，等待安装完成</p></blockquote><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>sudo tasksel install ubuntu-desktop</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br></pre></td><td class=code><pre><span class=line>$tasksel --list-tasks</span><br><span class=line>u kubuntu-live	Kubuntu live CD</span><br><span class=line>u lubuntu-live-gtk	Lubuntu live CD (GTK part)</span><br><span class=line>u ubuntu-budgie-live	Ubuntu Budgie live CD</span><br><span class=line>u ubuntu-live	Ubuntu live CD</span><br><span class=line>u ubuntu-mate-live	Ubuntu MATE Live CD</span><br><span class=line>u ubuntustudio-dvd-live	Ubuntu Studio live DVD</span><br><span class=line>u vanilla-gnome-live	Ubuntu GNOME live CD</span><br><span class=line>u xubuntu-live	Xubuntu live CD</span><br><span class=line>u cloud-image	Ubuntu Cloud Image (instance)</span><br><span class=line>u dns-server	DNS server</span><br><span class=line>u kubuntu-desktop	Kubuntu desktop</span><br><span class=line>u kubuntu-full	Kubuntu full</span><br><span class=line>u lamp-server	LAMP server</span><br><span class=line>u lubuntu-core	Lubuntu minimal installation</span><br><span class=line>u lubuntu-desktop	Lubuntu Desktop</span><br><span class=line>u lubuntu-gtk-core	Lubuntu minimal installation (GTK part)</span><br><span class=line>u lubuntu-gtk-desktop	Lubuntu Desktop (GTK part)</span><br><span class=line>u lubuntu-qt-core	Lubuntu minimal installation (Qt part)</span><br><span class=line>u lubuntu-qt-desktop	Lubuntu Qt Desktop (Qt part)</span><br><span class=line>i mail-server	Mail server</span><br><span class=line>u postgresql-server	PostgreSQL database</span><br><span class=line>i print-server	Print server</span><br><span class=line>i samba-server	Samba file server</span><br><span class=line>u ubuntu-budgie-desktop	Ubuntu Budgie desktop</span><br><span class=line>i ubuntu-desktop	Ubuntu desktop</span><br><span class=line>u ubuntu-mate-core	Ubuntu MATE minimal</span><br><span class=line>u ubuntu-mate-desktop	Ubuntu MATE desktop</span><br><span class=line>u ubuntustudio-audio	Audio recording and editing suite</span><br><span class=line>u ubuntustudio-desktop	Ubuntu Studio desktop</span><br><span class=line>u ubuntustudio-desktop-core	Ubuntu Studio minimal DE installation</span><br><span class=line>u ubuntustudio-fonts	Large selection of font packages</span><br><span class=line>u ubuntustudio-graphics	2D/3D creation and editing suite</span><br><span class=line>u ubuntustudio-photography	Photograph touchup and editing suite</span><br><span class=line>u ubuntustudio-publishing	Publishing applications</span><br><span class=line>u ubuntustudio-video	Video creation and editing suite</span><br><span class=line>u vanilla-gnome-desktop	Vanilla GNOME desktop</span><br><span class=line>u xubuntu-core	Xubuntu minimal installation</span><br><span class=line>u xubuntu-desktop	Xubuntu desktop</span><br><span class=line>i openssh-server	OpenSSH server</span><br><span class=line>u server	Basic Ubuntu server</span><br></pre></td></tr></table></figure><h2 id=find><a href=#find class=headerlink title=find></a>find</h2><figure class="highlight shell"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>[root@linfeng etc]# find . -type f -name &quot;*&quot; | xargs grep &quot;root/init.sh&quot;</span><br></pre></td></tr></table></figure><ul><li><code>-type f</code> : 表示只找文件</li><li><code>-name &quot;xxx&quot;</code> : 表示查找特定文件；也可以不写，表示找所有文件</li></ul><h3 id=批量修改文件名后缀><a href=#批量修改文件名后缀 class=headerlink title=批量修改文件名后缀></a>批量修改文件名后缀</h3><blockquote><p>mv .&#x2F;htxynl.f90 .&#x2F;htxynl.f77</p></blockquote><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>find . -name &quot;*.f90&quot; | awk -F &quot;.&quot; &#x27;&#123;print $2&#125;&#x27; | xargs -i -t mv .&#123;&#125;.f90  .&#123;&#125;.f77</span><br></pre></td></tr></table></figure><h2 id=cat><a href=#cat class=headerlink title=cat></a>cat</h2><blockquote><p>cat和重定向进行写文件操作</p></blockquote><figure class="highlight shell"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre></td><td class=code><pre><span class=line>=====&gt;$cat &gt; test.sh &lt;&lt; EOF</span><br><span class=line><span class="meta prompt_">&gt; </span><span class=language-bash>this is <span class=built_in>test</span></span></span><br><span class=line>EOF</span><br></pre></td></tr></table></figure><p>结束方式：</p><ul><li>输入<code>EOF</code>，最好使用EOF</li><li>使用<code>Ctrl+d</code></li></ul><p>写入方式：</p><ul><li><code>&gt;</code> : 以覆盖文件内容的方式，若此文件不存在，则创建</li><li><code>&gt;&gt;</code> : 以追加的方式写入文件</li></ul><h2 id=tee><a href=#tee class=headerlink title=tee></a>tee</h2><figure class="highlight shell"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>make USE_NINJA=false USE_CLANG_PLATFORM_BUILD=false 2&gt;&amp;1 | tee build.log</span><br></pre></td></tr></table></figure><h2 id=ssh><a href=#ssh class=headerlink title=ssh></a>ssh</h2><h3 id=跨服务器拷贝文件><a href=#跨服务器拷贝文件 class=headerlink title=跨服务器拷贝文件></a>跨服务器拷贝文件</h3><figure class="highlight shell"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br></pre></td><td class=code><pre><span class=line>xbin=&quot;u-boot-with-spl-mbr-gpt.bin&quot;</span><br><span class=line>xdst=&quot;user@192.168.10.44:/home/user/x2000_ddr_test&quot;</span><br><span class=line></span><br><span class=line>scp $xbin fpga@192.168.4.13:/tmp/$xbin</span><br><span class=line>ssh fpga@192.168.4.13 &quot;scp /tmp/$xbin $xdst&quot;</span><br></pre></td></tr></table></figure><h3 id=ssh的key值><a href=#ssh的key值 class=headerlink title=ssh的key值></a>ssh的key值</h3><ol><li>权限必须是<code>600</code><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>chmod 600 ~/.ssh/authorized_keys</span><br></pre></td></tr></table></figure></li><li>添加key值<figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>ssh-add ~/.ssh/authorized_keys</span><br></pre></td></tr></table></figure></li><li>查看生效key值<figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>ssh-add -l</span><br></pre></td></tr></table></figure></li><li>测试key值<figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>ssh -T git@github.com</span><br></pre></td></tr></table></figure></li><li>免密登录<figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>ssh-copy-id ssh name@ip</span><br></pre></td></tr></table></figure></li><li>使用多个key值<blockquote><p>man ssh_config</p></blockquote></li></ol><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>cp /etc/ssh/ssh_config ~/.ssh/config</span><br></pre></td></tr></table></figure><p>编辑~&#x2F;.ssh&#x2F;config</p><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br></pre></td><td class=code><pre><span class=line>...</span><br><span class=line>#   StrictHostKeyChecking ask</span><br><span class=line>    IdentityFile ~/.ssh/id_rsa</span><br><span class=line>    IdentityFile ~/.ssh/xxxx</span><br><span class=line>#   IdentityFile ~/.ssh/id_dsa</span><br><span class=line>#   IdentityFile ~/.ssh/id_ecdsa</span><br><span class=line>#   IdentityFile ~/.ssh/id_ed25519</span><br><span class=line>...</span><br></pre></td></tr></table></figure><h3 id=ssh登录到远程的特定目录><a href=#ssh登录到远程的特定目录 class=headerlink title=ssh登录到远程的特定目录></a>ssh登录到远程的特定目录</h3><figure class="highlight shell"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>ssh -t xx@192.168.1.1 &quot;cd /home/xx/test; bash&quot;</span><br></pre></td></tr></table></figure><p>或</p><figure class="highlight shell"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>ssh -t xx@192.168.1.1 &quot;cd /home/xx/test &amp;&amp; bash&quot;</span><br></pre></td></tr></table></figure><ul><li><code>-t</code> :标志用于强制分配伪终端</li></ul><h3 id=通过root账户ssh登录><a href=#通过root账户ssh登录 class=headerlink title=通过root账户ssh登录></a>通过root账户ssh登录</h3><blockquote><p>在ubuntu系统中默认不能使用root账户进行ssh登录</p></blockquote><p>开启root账户登录ssh，打开<code>/etc/ssh/sshd_config</code>配置</p><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>PermitRootLogin yes</span><br></pre></td></tr></table></figure><blockquote><p>默认配置<code>#PermitRootLogin prohibit-password</code></p></blockquote><p>重启ssh服务</p><figure class="highlight shell"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>sudo systemctl restart sshd.service</span><br></pre></td></tr></table></figure><h3 id=ssh数据的压缩传输><a href=#ssh数据的压缩传输 class=headerlink title=ssh数据的压缩传输></a>ssh数据的压缩传输</h3><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>ssh -CX xxx@192.168.1.1</span><br></pre></td></tr></table></figure><ul><li><code>-C</code>: 压缩传输模式</li><li><code>-X</code>: 启用X11转发,远程打开使用图形应用</li></ul><h2 id=tftp><a href=#tftp class=headerlink title=tftp></a>tftp</h2><blockquote><p>开发板（busybox）</p></blockquote><figure class="highlight shell"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>tftp -g -r user/xxxx/system.tar 192.168.4.13</span><br></pre></td></tr></table></figure><p>tftp的服务器(PC):</p><figure class="highlight shell"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br></pre></td><td class=code><pre><span class=line><span class="meta prompt_"># </span><span class=language-bash>/etc/default/tftpd-hpa</span></span><br><span class=line></span><br><span class=line>TFTP_USERNAME=&quot;tftp&quot;</span><br><span class=line>TFTP_DIRECTORY=&quot;/home/&quot;</span><br><span class=line>TFTP_ADDRESS=&quot;0.0.0.0:69&quot;</span><br><span class=line>TFTP_OPTIONS=&quot;--secure&quot;</span><br></pre></td></tr></table></figure><blockquote><p>file: &#x2F;etc&#x2F;default&#x2F;tftpd-hpa</p></blockquote><h2 id=cpio><a href=#cpio class=headerlink title=cpio></a>cpio</h2><blockquote><p>解压，制作 ramdisk</p></blockquote><ul><li><p>解压</p><figure class="highlight shell"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br></pre></td><td class=code><pre><span class=line>gunzip rootfs.cpio.gz</span><br><span class=line>mkdir tmp</span><br><span class=line>cd tmp</span><br><span class=line>cpio -i -F ../rootfs.cpio</span><br></pre></td></tr></table></figure><blockquote><p>code: <span class=exturl data-url="aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL1dpbmRkb2luZy9NeUNvZGUvbWFzdGVyL2FuZHJvaWQvZGVidWcvdW56aXBfcmFtZGlzay5zaA==">unzip_ramdisk.sh<i class="fa fa-external-link-alt"></i></span></p></blockquote></li><li><p>制作</p><figure class="highlight shell"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>find . | cpio -o -Hnewc |gzip -9 &gt; ../image.cpio.gz</span><br></pre></td></tr></table></figure><blockquote><p><code>-H</code>: 选项指定打包文件的具体格式，要生成init ramfs，只能用<code>newc</code>格式</p></blockquote></li></ul><h2 id=minicom><a href=#minicom class=headerlink title=minicom></a>minicom</h2><p>记录串口的输出日志：</p><figure class="highlight shell"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br></pre></td><td class=code><pre><span class=line><span class="meta prompt_">#</span><span class=language-bash>!/bin/sh</span></span><br><span class=line></span><br><span class=line>mkdir dd</span><br><span class=line>echo &quot;while [ 1 ];do killall minicom; sleep 36000;done&quot; &gt; ./b.sh</span><br><span class=line>chmod +x ./b.sh</span><br><span class=line>./b.sh &amp;</span><br><span class=line></span><br><span class=line>while [ 1 ]</span><br><span class=line>do</span><br><span class=line>	ff=`date +%Y%m%d%H%M`;</span><br><span class=line>	echo $ff;</span><br><span class=line>	minicom -w -C ./dd/$ff -o;</span><br><span class=line>done</span><br></pre></td></tr></table></figure><h3 id=ttyUSB0权限问题><a href=#ttyUSB0权限问题 class=headerlink title=ttyUSB0权限问题></a>ttyUSB0权限问题</h3><p>每次使用串口工具时，需要sudo权限，为了普通用户方便可以通过以下命令解决：</p><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>sudo usermod -a -G dialout $&#123;USER&#125;</span><br></pre></td></tr></table></figure><blockquote><p>设置后需要重启电脑，使用minicom时不用sudo</p></blockquote><h3 id=串口输出增加时间戳：><a href=#串口输出增加时间戳： class=headerlink title=串口输出增加时间戳：></a>串口输出增加时间戳：</h3><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>Ctrl + a ; n</span><br></pre></td></tr></table></figure><h3 id=串口打印内存信息：><a href=#串口打印内存信息： class=headerlink title=串口打印内存信息：></a>串口打印内存信息：</h3><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>Ctrl + a; f; m</span><br></pre></td></tr></table></figure><blockquote><p><code>Ctrl + a; f</code>(send break)进行发送命令，<code>m</code>查看当前内存状态的命令<br>类似与：<code>echo m &gt; /proc/sysrq-trigger </code></p></blockquote><table><thead><tr><th align=center>break signal</th><th align=center></th></tr></thead><tbody><tr><td align=center>m</td><td align=center>查看当前内存状态的命令</td></tr></tbody></table><blockquote><p>内核提供接口<code>drivers/tty/sysrq.c</code>,通过按键的方式获取内核的调试信息</p></blockquote><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br></pre></td><td class=code><pre><span class=line>static struct sysrq_key_op *sysrq_key_table[36] = &#123;</span><br><span class=line>	&amp;sysrq_loglevel_op,		/* 0 */</span><br><span class=line>	&amp;sysrq_loglevel_op,		/* 1 */</span><br><span class=line>	&amp;sysrq_loglevel_op,		/* 2 */</span><br><span class=line>	&amp;sysrq_loglevel_op,		/* 3 */</span><br><span class=line>	&amp;sysrq_loglevel_op,		/* 4 */</span><br><span class=line>	&amp;sysrq_loglevel_op,		/* 5 */</span><br><span class=line>	&amp;sysrq_loglevel_op,		/* 6 */</span><br><span class=line>	&amp;sysrq_loglevel_op,		/* 7 */</span><br><span class=line>	&amp;sysrq_loglevel_op,		/* 8 */</span><br><span class=line>	&amp;sysrq_loglevel_op,		/* 9 */</span><br><span class=line></span><br><span class=line>	/*</span><br><span class=line>	 * a: Don&#x27;t use for system provided sysrqs, it is handled specially on</span><br><span class=line>	 * sparc and will never arrive.</span><br><span class=line>	 */</span><br><span class=line>	NULL,				/* a */</span><br><span class=line>	&amp;sysrq_reboot_op,		/* b */</span><br><span class=line>	&amp;sysrq_crash_op,		/* c &amp; ibm_emac driver debug */</span><br><span class=line>	&amp;sysrq_showlocks_op,		/* d */</span><br><span class=line>	&amp;sysrq_term_op,			/* e */</span><br><span class=line>	&amp;sysrq_moom_op,			/* f */</span><br><span class=line>	/* g: May be registered for the kernel debugger */</span><br><span class=line>	NULL,				/* g */</span><br><span class=line>	NULL,				/* h - reserved for help */</span><br><span class=line>	&amp;sysrq_kill_op,			/* i */</span><br><span class=line>#ifdef CONFIG_BLOCK</span><br><span class=line>	&amp;sysrq_thaw_op,			/* j */</span><br><span class=line>#else</span><br><span class=line>	NULL,				/* j */</span><br><span class=line>#endif</span><br><span class=line>	&amp;sysrq_SAK_op,			/* k */</span><br><span class=line>#ifdef CONFIG_SMP</span><br><span class=line>	&amp;sysrq_showallcpus_op,		/* l */</span><br><span class=line>#else</span><br><span class=line>	NULL,				/* l */</span><br><span class=line>#endif</span><br><span class=line>	&amp;sysrq_showmem_op,		/* m */</span><br><span class=line>	&amp;sysrq_unrt_op,			/* n */</span><br><span class=line>	/* o: This will often be registered as &#x27;Off&#x27; at init time */</span><br><span class=line>	NULL,				/* o */</span><br><span class=line>	&amp;sysrq_showregs_op,		/* p */</span><br><span class=line>	&amp;sysrq_show_timers_op,		/* q */</span><br><span class=line>	&amp;sysrq_unraw_op,		/* r */</span><br><span class=line>	&amp;sysrq_sync_op,			/* s */</span><br><span class=line>	&amp;sysrq_showstate_op,		/* t */</span><br><span class=line>	&amp;sysrq_mountro_op,		/* u */</span><br><span class=line>	/* v: May be registered for frame buffer console restore */</span><br><span class=line>	NULL,				/* v */</span><br><span class=line>	&amp;sysrq_showstate_blocked_op,	/* w */</span><br><span class=line>	/* x: May be registered on ppc/powerpc for xmon */</span><br><span class=line>	/* x: May be registered on sparc64 for global PMU dump */</span><br><span class=line>	NULL,				/* x */</span><br><span class=line>	/* y: May be registered on sparc64 for global register dump */</span><br><span class=line>	NULL,				/* y */</span><br><span class=line>	&amp;sysrq_ftrace_dump_op,		/* z */</span><br><span class=line>&#125;;</span><br></pre></td></tr></table></figure><h4 id=enable-the-magic-SysRq-key><a href=#enable-the-magic-SysRq-key class=headerlink title="enable the magic SysRq key"></a>enable the magic SysRq key</h4><blockquote><p><span class=exturl data-url="aHR0cHM6Ly93d3cua2VybmVsLm9yZy9kb2MvaHRtbC9sYXRlc3QvYWRtaW4tZ3VpZGUvc3lzcnEuaHRtbA==">https://www.kernel.org/doc/html/latest/admin-guide/sysrq.html<i class="fa fa-external-link-alt"></i></span></p></blockquote><p>配置内核时，您需要对’Magic Sysrq键（CONFIG_MAGIC_SYSRQ&#x3D;y)。在运行使用SYSRQ的内核时，<code>/proc/sys/kernel/sysrq</code>控制通过SYSRQ键调用允许的函数。该文件中的默认值由CONFIG_MAGIC_SYSRQ_DEFAULT_ENABLE设置，该值默认为1。</p><p><code>/proc/proc/sys/kernel/sysrq</code>中可能值的列表：</p><ul><li>0 - disable sysrq completely</li><li>1 - enable all functions of sysrq</li></ul><ul><li>参考配置</li></ul><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre></td><td class=code><pre><span class=line>CONFIG_MAGIC_SYSRQ=y</span><br><span class=line>CONFIG_MAGIC_SYSRQ_DEFAULT_ENABLE=0x1</span><br><span class=line>CONFIG_MAGIC_SYSRQ_SERIAL=y</span><br></pre></td></tr></table></figure><h3 id=kermit文件传输><a href=#kermit文件传输 class=headerlink title=kermit文件传输></a>kermit文件传输</h3><ul><li>安装ckermit</li></ul><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>sudo apt install ckermit</span><br></pre></td></tr></table></figure><blockquote><p>注：ubuntu20.04没有ckermit，可以手动下载ubuntu18.04的版本安装，自测可用。</p></blockquote><ul><li>配置kermit</li></ul><p>在配置文件<code>/etc/kermit/kermrc</code>中追加以下配置：</p><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br></pre></td><td class=code><pre><span class=line>set line          /dev/ttyUSB0</span><br><span class=line>set speed         115200</span><br><span class=line>set carrier-watch off</span><br><span class=line>set handshake     none</span><br><span class=line>set flow-control none</span><br><span class=line>robust</span><br><span class=line>set file type     bin</span><br><span class=line>set file name     lit</span><br><span class=line>set rec pack      1000</span><br><span class=line>set send pack     1000</span><br><span class=line>set window        5</span><br></pre></td></tr></table></figure><ul><li>文件发送</li></ul><p>快捷键：<code>Ctrl + a + s</code>，选择<code>kermit</code></p><h2 id=sshfs><a href=#sshfs class=headerlink title=sshfs></a>sshfs</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>sudo sshfs xxx@192.168.1.2:/home_back/xxx/work/aaa /home/user/aaa -o gid=1000,uid=1000,allow_other</span><br></pre></td></tr></table></figure><h2 id=md5sum-—-字符串><a href=#md5sum-—-字符串 class=headerlink title="md5sum — 字符串"></a>md5sum — 字符串</h2><figure class="highlight shell"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre></td><td class=code><pre><span class=line><span class="meta prompt_">$</span><span class=language-bash><span class=built_in>echo</span> -n <span class=string>&#x27;123456&#x27;</span> | <span class=built_in>md5sum</span></span></span><br><span class=line>e10adc3949ba59abbe56e057f20f883e  -</span><br></pre></td></tr></table></figure><h2 id=查看硬盘型号和序列号><a href=#查看硬盘型号和序列号 class=headerlink title=查看硬盘型号和序列号></a>查看硬盘型号和序列号</h2><figure class="highlight shell"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>sudo hdparm -i /dev/sda</span><br></pre></td></tr></table></figure><h2 id=获取计算机硬件信息><a href=#获取计算机硬件信息 class=headerlink title=获取计算机硬件信息></a>获取计算机硬件信息</h2><figure class="highlight shell"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>sudo dmidecode</span><br></pre></td></tr></table></figure><blockquote><p>dmidecode遵循SMBIOS&#x2F;DMI标准，其输出的信息包括BIOS、系统、主板、处理器、内存、缓存等等。</p></blockquote><h2 id=格式化xml><a href=#格式化xml class=headerlink title=格式化xml></a>格式化xml</h2><figure class="highlight shell"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>xmllint --format run_xunit.xml</span><br></pre></td></tr></table></figure><blockquote><p>在vim中直接敲xml,进行格式化</p></blockquote><h2 id=tldr><a href=#tldr class=headerlink title=tldr></a>tldr</h2><blockquote><p>Too Long Don’t Read!</p></blockquote><p>查找各种命令的常用例子</p><figure class="highlight shell"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>sudo apt install tldr</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br></pre></td><td class=code><pre><span class=line><span class="meta prompt_">$</span><span class=language-bash>tldr ps</span></span><br><span class=line>ps</span><br><span class=line>Information about running processes.</span><br><span class=line></span><br><span class=line> - List all running processes:</span><br><span class=line>   ps aux</span><br><span class=line></span><br><span class=line> - List all running processes including the full command string:</span><br><span class=line>   ps auxww</span><br><span class=line></span><br><span class=line> - Search for a process that matches a string:</span><br><span class=line>   ps aux | grep &#123;&#123;string&#125;&#125;</span><br><span class=line></span><br><span class=line> - List all processes of the current user in extra full format:</span><br><span class=line>   ps --user $(id -u) -F</span><br><span class=line></span><br><span class=line> - List all processes of the current user as a tree:</span><br><span class=line>   ps --user $(id -u) f</span><br><span class=line></span><br><span class=line> - Get the parent pid of a process:</span><br><span class=line>   ps -o ppid= -p &#123;&#123;pid&#125;&#125;</span><br></pre></td></tr></table></figure><h2 id=top-1><a href=#top-1 class=headerlink title=top></a>top</h2><p>命令相关参数</p><table><thead><tr><th align=center>参数</th><th align=center>作用</th></tr></thead><tbody><tr><td align=center><code>1</code></td><td align=center>显示每个CPU的运行情况</td></tr><tr><td align=center><code>z</code></td><td align=center>进入高亮模式（终端红色字体）</td></tr><tr><td align=center><code>b</code></td><td align=center>高亮显示正在运行的命令</td></tr><tr><td align=center><code>c</code></td><td align=center>显示command列的所有信息，包括参数</td></tr><tr><td align=center><code>t</code></td><td align=center>更直观的方式展示task&#x2F;cpu信息，像htop一样</td></tr><tr><td align=center><code>m</code></td><td align=center>更直观的方式展示memory信息，像htop一样</td></tr><tr><td align=center><code>M</code></td><td align=center>根据内存使用率进行排序，%MEM列</td></tr><tr><td align=center><code>P</code></td><td align=center>根据CPU使用率进行排序，%CPU列</td></tr></tbody></table><h2 id=sed><a href=#sed class=headerlink title=sed></a>sed</h2><blockquote><p>参考：<span class=exturl data-url=aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vZWR3YXJkbG9zdC9hcmNoaXZlLzIwMTAvMDkvMTcvMTgyOTE0NS5odG1s>sed命令详解<i class="fa fa-external-link-alt"></i></span></p></blockquote><h3 id=将当前目录-包括子目录-文件中的特定字符串并进行替换><a href=#将当前目录-包括子目录-文件中的特定字符串并进行替换 class=headerlink title=将当前目录(包括子目录)文件中的特定字符串并进行替换></a>将当前目录(包括子目录)文件中的特定字符串并进行替换</h3><figure class="highlight shell"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>sed -i s/jpeg_encode.h/jpeg_codec.h/g `grep jpeg_encode.h -rl --include=&quot;*.c&quot; ./`</span><br></pre></td></tr></table></figure><ul><li><code>-i</code> :表示操作的是文件</li><li><code>反引号</code> :表示将grep命令的的结果作为操作文件</li></ul><h3 id=当前目录文件替换><a href=#当前目录文件替换 class=headerlink title=当前目录文件替换></a>当前目录文件替换</h3><figure class="highlight shell"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>sed -i s/xxxx/yyyy/g ./*.txt</span><br></pre></td></tr></table></figure><h2 id=pkg-config><a href=#pkg-config class=headerlink title=pkg-config></a>pkg-config</h2><blockquote><p>用于获得某一个库&#x2F;模块的所有编译相关的信息</p></blockquote><figure class="highlight shell"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre></td><td class=code><pre><span class=line><span class="meta prompt_">$</span><span class=language-bash>pkg-config --libs --cflags gl</span></span><br><span class=line>-I/usr/include/libdrm -lGL</span><br></pre></td></tr></table></figure><h3 id=pkg-config默认的搜索路径><a href=#pkg-config默认的搜索路径 class=headerlink title=pkg-config默认的搜索路径></a>pkg-config默认的搜索路径</h3><figure class="highlight shell"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre></td><td class=code><pre><span class=line><span class="meta prompt_">$</span><span class=language-bash>pkg-config --variable pc_path pkg-config</span></span><br><span class=line>/usr/local/lib/x86_64-linux-gnu/pkgconfig:/usr/local/lib/pkgconfig:/usr/local/share/pkgconfig:/usr/lib/x86_64-linux-gnu/pkgconfig:/usr/lib/pkgconfig:/usr/share/pkgconfig</span><br></pre></td></tr></table></figure><h3 id=PKG-CONFIG-PATH><a href=#PKG-CONFIG-PATH class=headerlink title=PKG_CONFIG_PATH></a>PKG_CONFIG_PATH</h3><p>配置pkgconfig文件路径</p><figure class="highlight shell"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>echo $PKG_CONFIG_PATH</span><br></pre></td></tr></table></figure><h2 id=运行时库的连接><a href=#运行时库的连接 class=headerlink title=运行时库的连接></a>运行时库的连接</h2><ul><li>在环境变量<code>LD_LIBRARY_PATH</code>中指明库的搜索路径。</li><li>在<code>/etc/ld.so.conf</code>文件中添加库的搜索路径。</li></ul><h3 id=LD-LIBRARY-PATH><a href=#LD-LIBRARY-PATH class=headerlink title=LD_LIBRARY_PATH></a>LD_LIBRARY_PATH</h3><p>配置运行时加载库的路径</p><figure class="highlight shell"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>echo $LD_LIBRARY_PATH</span><br></pre></td></tr></table></figure><h2 id=命令行直接打开浏览器进入指定网页><a href=#命令行直接打开浏览器进入指定网页 class=headerlink title=命令行直接打开浏览器进入指定网页></a>命令行直接打开浏览器进入指定网页</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>$firefox --new-window https://winddoing.github.io</span><br></pre></td></tr></table></figure><h2 id=命令行直接打开文件管理（ubuntu）><a href=#命令行直接打开文件管理（ubuntu） class=headerlink title=命令行直接打开文件管理（ubuntu）></a>命令行直接打开文件管理（ubuntu）</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>$nautilus</span><br></pre></td></tr></table></figure><h2 id=参考><a href=#参考 class=headerlink title=参考></a>参考</h2><ol><li><span class=exturl data-url=aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vbXktYmxvZy9hcmNoaXZlLzIwMDgvMTIvMTAvMTM1MTc1My5odG1s>minicom中文手册<i class="fa fa-external-link-alt"></i></span></li></ol></div><footer class=post-footer><div class=post-copyright><ul><li class=post-copyright-author><strong>本文作者：</strong>winddoing</li><li class=post-copyright-link><strong>本文链接：</strong> <a href=https://winddoing.github.io/post/1644.html title=常用的shell命令>https://winddoing.github.io/post/1644.html</a></li><li class=post-copyright-license><strong>版权声明：</strong>本博客所有文章除特别声明外，均采用 <span class=exturl data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC8="><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div><div class=post-tags><a href="/tags/shell/" rel=tag><i class="fa fa-tag"></i> shell</a></div><div class=post-nav><div class=post-nav-item><a href=/post/43508.html rel=prev title=linux下字符串操作常用函数><i class="fa fa-chevron-left"></i> linux下字符串操作常用函数</a></div><div class=post-nav-item><a href=/post/16107.html rel=next title="Hello World">Hello World <i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div class="comments utterances-container"></div></div></main><footer class=footer><div class=footer-inner><div class=copyright>&copy; 2014 – <span itemprop=copyrightYear>2023</span> <span class=with-love><i class="fa fa-heart"></i></span> <span class=author itemprop=copyrightHolder>winddoing</span></div><div class=wordcount><span class=post-meta-item><span class=post-meta-item-icon><i class="fa fa-chart-line"></i></span> <span title=站点总字数>1.1m</span></span> <span class=post-meta-item><span class=post-meta-item-icon><i class="fa fa-coffee"></i></span> <span title=站点阅读时长>16:21</span></span></div><div class=busuanzi-count><span class=post-meta-item id=busuanzi_container_site_uv><span class=post-meta-item-icon><i class="fa fa-users"></i></span> <span class=site-uv title=总访客量><span id=busuanzi_value_site_uv></span></span></span> <span class=post-meta-item id=busuanzi_container_site_pv><span class=post-meta-item-icon><i class="fa fa-eye"></i></span> <span class=site-pv title=总访问量><span id=busuanzi_value_site_pv></span></span></span></div><div class=powered-by>由 <span class=exturl data-url=aHR0cHM6Ly9oZXhvLmlv>Hexo</span> & <span class=exturl data-url="aHR0cHM6Ly90aGVtZS1uZXh0LmpzLm9yZy9taXN0Lw==">NexT.Mist</span> 强力驱动</div></div></footer><script src=https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/next-theme-pjax/0.5.0/pjax.min.js integrity="sha256-3NkoLDrmHLTYj7csHIZSr0MHAFTXth7Ua/DDt4MRUAg=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/lozad.js/1.16.0/lozad.min.js integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/pangu/4.0.7/pangu.min.js integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" crossorigin=anonymous></script><script src=/js/comments.js></script><script src=/js/utils.js></script><script src=/js/motion.js></script><script src=/js/schemes/muse.js></script><script src=/js/next-boot.js></script><script src=/js/pjax.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.0/search.js integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin=anonymous></script><script src=/js/third-party/search/local-search.js></script><script class=next-config data-name=pdf type=application/json>{"object_url":{"url":"https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.2.8/pdfobject.min.js","integrity":"sha256-tu9j5pBilBQrWSDePOOajCUdz6hWsid/lBNzK4KgEPM="},"url":"/lib/pdf/web/viewer.html"}</script><script src=/js/third-party/tags/pdf.js></script><script class=next-config data-name=mermaid type=application/json>{"enable":true,"theme":{"light":"default","dark":"dark"},"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mermaid/9.1.1/mermaid.min.js","integrity":"sha256-8L3O8tirFUa8Va4NSTAyIbHJeLd6OnlcxgupV9F77e0="}}</script><script src=/js/third-party/tags/mermaid.js></script><script src=/js/third-party/fancybox.js></script><script data-pjax async src=https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><script class=next-config data-name=leancloud_visitors type=application/json>{"enable":true,"app_id":"Q8qpjA3fOO7FEUBqcmcQFptF-gzGzoHsz","app_key":"tgUTq5bX3fVmn916EMRe65eJ","server_url":null,"security":false}</script><script src=/js/third-party/statistics/lean-analytics.js></script><script class=next-config data-name=enableMath type=application/json>false</script><script class=next-config data-name=mathjax type=application/json>{"enable":true,"tags":"none","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.1/es5/tex-mml-chtml.js","integrity":"sha256-hlC2uSQYTmPsrzGZTEQEg9PZ1a/+SV6VBCTclohf2og="}}</script><script src=/js/third-party/math/mathjax.js></script><script class=next-config data-name=utterances type=application/json>{"enable":true,"repo":"Winddoing/winddoing.github.io","issue_term":"title","theme":"github-light"}</script><script src=/js/third-party/comments/utterances.js></script></body></html>