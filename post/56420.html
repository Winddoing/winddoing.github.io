<!DOCTYPE html><html lang=zh-CN><head><meta charset=UTF-8><meta name=viewport content="width=device-width"><meta name=theme-color content=#222 media="(prefers-color-scheme: light)"><meta name=theme-color content=#222 media="(prefers-color-scheme: dark)"><meta name=generator content="Hexo 6.2.0"><link rel=preconnect href=https://fonts.googleapis.com crossorigin><link rel=preconnect href=https://cdnjs.cloudflare.com crossorigin><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon-next.png><link rel=icon type=image/png sizes=32x32 href=/favicon.ico><link rel=icon type=image/png sizes=16x16 href=/favicon.ico><link rel=mask-icon href=/images/logo.svg color=#222><meta name=baidu-site-verification content=WIIeufYjj6><link rel=stylesheet href=/css/main.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Microsoft+YaHei:300,300italic,400,400italic,700,700italic%7Ccmmi10:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css integrity="sha256-DfWjNxDkM94fVBWx1H5BMMp0Zq7luBlV8QRcSES7s+0=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin=anonymous><script class=next-config data-name=main type=application/json>{"hostname":"winddoing.github.io","root":"/","images":"/images","scheme":"Mist","darkmode":true,"version":"8.12.1","exturl":true,"sidebar":{"position":"right","display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":"default"},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":"utterances","storage":true,"lazyload":false,"nav":null,"activeClass":"utterances"},"stickytabs":false,"motion":{"enable":true,"async":true,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src=/js/config.js></script><meta name=description content="For containers in virtualized environments, they are working on accelerated OpenGL ES 2.0 support with that being the lowest common denominator for many mobile platforms. This virtual GPU access they"><meta property=og:type content=article><meta property=og:title content="Virtio GPU"><meta property=og:url content=https://winddoing.github.io/post/56420.html><meta property=og:site_name content="Winddoing&#39;s Notes"><meta property=og:description content="For containers in virtualized environments, they are working on accelerated OpenGL ES 2.0 support with that being the lowest common denominator for many mobile platforms. This virtual GPU access they"><meta property=og:locale content=zh_CN><meta property=og:image content=https://winddoing.github.io/images/2019/08/virtio_gpu_qemu_layer.png><meta property=og:image content=https://winddoing.github.io/images/2020/07/graphics_pipeline.png><meta property=article:published_time content=2019-08-18T12:27:00.000Z><meta property=article:modified_time content=2023-12-16T04:58:17.937Z><meta property=article:author content=winddoing><meta property=article:tag content=gpu><meta property=article:tag content=virtio><meta name=twitter:card content=summary><meta name=twitter:image content=https://winddoing.github.io/images/2019/08/virtio_gpu_qemu_layer.png><link rel=canonical href=https://winddoing.github.io/post/56420.html><script class=next-config data-name=page type=application/json>{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://winddoing.github.io/post/56420.html","path":"post/56420.html","title":"Virtio GPU"}</script><script class=next-config data-name=calendar type=application/json>""</script><title>Virtio GPU | Winddoing's Notes</title><script src=/js/third-party/analytics/baidu-analytics.js></script><script async src=https://hm.baidu.com/hm.js?b96a560ce0a6bfbeaaddc59dc5888b75></script><noscript><link rel=stylesheet href=/css/noscript.css></noscript></head><body itemscope itemtype=http://schema.org/WebPage class=use-motion><div class=headband></div><main class=main><header class=header itemscope itemtype=http://schema.org/WPHeader><div class=header-inner><div class=site-brand-container><div class=site-nav-toggle><div class=toggle aria-label=切换导航栏 role=button><span class=toggle-line></span> <span class=toggle-line></span> <span class=toggle-line></span></div></div><div class=site-meta><a href="/" class=brand rel=start><i class=logo-line></i><p class=site-title>Winddoing's Notes</p><i class=logo-line></i></a><p class=site-subtitle itemprop=description>Follow Excellent, Success will Chase you</p></div><div class=site-nav-right><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class=site-nav><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel=section><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel=section><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel=section><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel=section><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-search"><a role=button class=popup-trigger><i class="fa fa-search fa-fw"></i>搜索</a></li></ul></nav><div class=search-pop-overlay><div class="popup search-popup"><div class=search-header><span class=search-icon><i class="fa fa-search"></i></span><div class=search-input-container><input autocomplete=off autocapitalize=off maxlength=80 placeholder=搜索... spellcheck=false type=search class=search-input></div><span class=popup-btn-close role=button><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class=search-result-icon><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></div><div class="toggle sidebar-toggle" role=button><span class=toggle-line></span> <span class=toggle-line></span> <span class=toggle-line></span></div><aside class=sidebar><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class=sidebar-nav><li class=sidebar-nav-toc>文章目录</li><li class=sidebar-nav-overview>站点概览</li></ul><div class=sidebar-panel-container><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class=nav><li class="nav-item nav-level-2"><a class=nav-link href=#OpenGL><span class=nav-number>1.</span> <span class=nav-text>OpenGL</span></a></li><li class="nav-item nav-level-2"><a class=nav-link href=#EGL><span class=nav-number>2.</span> <span class=nav-text>EGL</span></a></li><li class="nav-item nav-level-2"><a class=nav-link href=#GLX><span class=nav-number>3.</span> <span class=nav-text>GLX</span></a></li><li class="nav-item nav-level-2"><a class=nav-link href=#GLX%E3%80%81EGL%E4%B8%8EOpenGL-ES%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB%EF%BC%9F%EF%BC%9F><span class=nav-number>4.</span> <span class=nav-text>GLX、EGL与OpenGL ES之间的关系？？</span></a></li><li class="nav-item nav-level-2"><a class=nav-link href=#mesa><span class=nav-number>5.</span> <span class=nav-text>mesa</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#Gallium><span class=nav-number>5.1.</span> <span class=nav-text>Gallium</span></a></li></ol></li><li class="nav-item nav-level-2"><a class=nav-link href=#DRI><span class=nav-number>6.</span> <span class=nav-text>DRI</span></a></li><li class="nav-item nav-level-2"><a class=nav-link href=#Virgil><span class=nav-number>7.</span> <span class=nav-text>Virgil</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#virgl-protocol><span class=nav-number>7.1.</span> <span class=nav-text>virgl_protocol</span></a></li></ol></li><li class="nav-item nav-level-2"><a class=nav-link href=#GPU-Driver><span class=nav-number>8.</span> <span class=nav-text>GPU Driver</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#DRM><span class=nav-number>8.1.</span> <span class=nav-text>DRM</span></a></li></ol></li><li class="nav-item nav-level-2"><a class=nav-link href=#piglit><span class=nav-number>9.</span> <span class=nav-text>piglit</span></a></li><li class="nav-item nav-level-2"><a class=nav-link href=#GLSL><span class=nav-number>10.</span> <span class=nav-text>GLSL</span></a></li><li class="nav-item nav-level-2"><a class=nav-link href=#X-org><span class=nav-number>11.</span> <span class=nav-text>X.org</span></a></li><li class="nav-item nav-level-2"><a class=nav-link href=#graphics-pipeline><span class=nav-number>12.</span> <span class=nav-text>graphics pipeline</span></a></li><li class="nav-item nav-level-2"><a class=nav-link href=#%E5%8F%82%E8%80%83><span class=nav-number>13.</span> <span class=nav-text>参考</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author site-overview-item animated" itemprop=author itemscope itemtype=http://schema.org/Person><img class=site-author-image itemprop=image alt=winddoing src=/images/Winddoing.jpg><p class=site-author-name itemprop=name>winddoing</p><div class=site-description itemprop=description>失败缘于忽视细处，成功始于重视小事</div></div><div class="site-state-wrap site-overview-item animated"><nav class=site-state><div class="site-state-item site-state-posts"><a href="/archives/"><span class=site-state-item-count>358</span> <span class=site-state-item-name>日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class=site-state-item-count>112</span> <span class=site-state-item-name>分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class=site-state-item-count>284</span> <span class=site-state-item-name>标签</span></a></div></nav></div><div class="links-of-author site-overview-item animated"><span class=links-of-author-item><span class=exturl data-url="aHR0cHM6Ly9naXRodWIuY29tL1dpbmRkb2luZw==" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Winddoing"><i class="fab fa-github fa-fw"></i>GitHub</span></span> <span class=links-of-author-item><span class=exturl data-url=aHR0cHM6Ly9naXRlZS5jb20vd2luZGRvaW5n title="Gitee → https:&#x2F;&#x2F;gitee.com&#x2F;winddoing"><i class="fab fa-codiepie fa-fw"></i>Gitee</span></span> <span class=links-of-author-item><span class=exturl data-url="aHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS91c2Vycy85NTY3MzYxL3dpbmRkb2luZw==" title="StackOverflow → https:&#x2F;&#x2F;stackoverflow.com&#x2F;users&#x2F;9567361&#x2F;winddoing"><i class="fab fa-stack-overflow fa-fw"></i>StackOverflow</span></span> <span class=links-of-author-item><span class=exturl data-url="aHR0cHM6Ly9hcHAudHJhdmlzLWNpLmNvbS9naXRodWIvV2luZGRvaW5nL3dpbmRkb2luZy5naXRodWIuaW8=" title="Travis CI → https:&#x2F;&#x2F;app.travis-ci.com&#x2F;github&#x2F;Winddoing&#x2F;winddoing.github.io"><i class="fas fa-terminal fa-fw"></i>Travis CI</span></span></div><div class="cc-license site-overview-item animated" itemprop=license><span class="exturl cc-opacity" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC8="><img src=https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg alt="Creative Commons"></span></div><div class="links-of-blogroll site-overview-item animated"><div class=links-of-blogroll-title><i class="link fa-fw"></i> Links</div><ul class=links-of-blogroll-list><li class=links-of-blogroll-item><span class=exturl data-url="aHR0cHM6Ly93aW5kZG9pbmcuZ2l0Ym9vay5pby9lbWJlZGRlZF9saW51eF9ub3Rlcy8=" title=https:&#x2F;&#x2F;winddoing.gitbook.io&#x2F;embedded_linux_notes&#x2F;>嵌入式相关</span></li><li class=links-of-blogroll-item><span class=exturl data-url="aHR0cDovL2Jsb2cuY3Nkbi5uZXQvc2RyZWFtcQ==" title=http:&#x2F;&#x2F;blog.csdn.net&#x2F;sdreamq>CSDN</span></li><li class=links-of-blogroll-item><span class=exturl data-url=aHR0cDovL3d3dy53b3dvdGVjaC5uZXQv title=http:&#x2F;&#x2F;www.wowotech.net&#x2F;>蜗窝科技</span></li><li class=links-of-blogroll-item><span class=exturl data-url=aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3hpb25neGlhbnpl title=https:&#x2F;&#x2F;blog.csdn.net&#x2F;xiongxianze>xiongxianze</span></li></ul></div><div id=days></div><script>
function show_date_time(){
    window.setTimeout("show_date_time()", 1000);
    BirthDay=new Date("02/26/2014 15:00:00");
    today=new Date();
    timeold=(today.getTime()-BirthDay.getTime());
    sectimeold=timeold/1000
        secondsold=Math.floor(sectimeold);
    msPerDay=24*60*60*1000
        e_daysold=timeold/msPerDay
        daysold=Math.floor(e_daysold);
    e_hrsold=(e_daysold-daysold)*24;
    hrsold=setzero(Math.floor(e_hrsold));
    e_minsold=(e_hrsold-hrsold)*60;
    minsold=setzero(Math.floor((e_hrsold-hrsold)*60));
    seconds=setzero(Math.floor((e_minsold-minsold)*60));
    document.getElementById('days').innerHTML="已运行"+daysold+"天"+hrsold+"小时"+minsold+"分"+seconds+"秒";
}
function setzero(i){
    if (i<10)
    {i="0" + i};
    return i;
}
show_date_time();
</script></div></div></div></aside><div class=sidebar-dimmer></div></header><div class=back-to-top role=button aria-label=返回顶部><i class="fa fa-arrow-up"></i> <span>0%</span></div><div class=reading-progress-bar></div><noscript><div class=noscript-warning>Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner post posts-expand"><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang=zh-CN><link itemprop=mainEntityOfPage href=https://winddoing.github.io/post/56420.html><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content=/images/Winddoing.jpg><meta itemprop=name content=winddoing></span> <span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="Winddoing's Notes"><meta itemprop=description content=失败缘于忽视细处，成功始于重视小事></span> <span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="Virtio GPU | Winddoing's Notes"><meta itemprop=description></span><header class=post-header><h1 class=post-title itemprop="name headline">Virtio GPU</h1><div class=post-meta-container><div class=post-meta><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-calendar"></i></span> <span class=post-meta-item-text>发表于</span><time title="创建时间：2019-08-18 20:27:00" itemprop="dateCreated datePublished" datetime=2019-08-18T20:27:00+08:00>2019-08-18</time></span> <span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-folder"></i></span> <span class=post-meta-item-text>分类于</span> <span itemprop=about itemscope itemtype=http://schema.org/Thing><a href="/categories/%E8%AE%BE%E5%A4%87%E9%A9%B1%E5%8A%A8/" itemprop=url rel=index><span itemprop=name>设备驱动</span></a></span></span> <span id=/post/56420.html class="post-meta-item leancloud_visitors" data-flag-title="Virtio GPU" title=阅读次数><span class=post-meta-item-icon><i class="far fa-eye"></i></span> <span class=post-meta-item-text>阅读次数：</span> <span class=leancloud-visitors-count></span></span> <span class=post-meta-item title=阅读次数 id=busuanzi_container_page_pv><span class=post-meta-item-icon><i class="far fa-eye"></i></span> <span class=post-meta-item-text>阅读次数：</span> <span id=busuanzi_value_page_pv></span></span> <span class=post-meta-break></span> <span class=post-meta-item title=本文字数><span class=post-meta-item-icon><i class="far fa-file-word"></i></span> <span class=post-meta-item-text>本文字数：</span> <span>2.4k</span></span> <span class=post-meta-item title=阅读时长><span class=post-meta-item-icon><i class="far fa-clock"></i></span> <span class=post-meta-item-text>阅读时长 &asymp;</span> <span>2 分钟</span></span></div></div></header><div class=post-body itemprop=articleBody><blockquote><p>For containers in virtualized environments, they are working on accelerated OpenGL ES 2.0 support with that being the lowest common denominator for many mobile platforms. This virtual GPU access they are pursuing is making use of Red Hat’s work on Virgil3D as the Gallium3D-based solution for graphics pass-through to the host. Then for the kernel bits are VirtIO-GPU and on the host is the Virgl Renderer with QEMU.</p></blockquote><p><img data-src=/images/2019/08/virtio_gpu_qemu_layer.png alt=virtio-gpu-qemu-layer></p><span id=more></span><h2 id=OpenGL><a href=#OpenGL class=headerlink title=OpenGL></a>OpenGL</h2><p>OpenGL, OpenGL ES, and OpenGL ES-SC API and Extension Registry</p><ul><li><span class=exturl data-url=aHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9PcGVuR0wtUmVnaXN0cnkv>OpenGL-Registry<i class="fa fa-external-link-alt"></i></span></li></ul><h2 id=EGL><a href=#EGL class=headerlink title=EGL></a>EGL</h2><p><code>EGL</code>是图形渲染API（如OpenGL ES）与本地平台窗口系统的一层接口，保证了OpenGL ES的平台独立性。EGL提供了若干功能：创建rendering surface、创建graphics context、同步应用程序和本地平台渲染API、提供对显示设备的访问、提供对渲染配置的管理等。</p><p>egl是一个管理者的功能。包括管理所有的display ， context， surface，config。可能有很多的display ，每个display有很多的configs，这个display上可以创建很多的context和surface</p><ul><li><span class=exturl data-url="aHR0cHM6Ly93d3cua2hyb25vcy5vcmcvcmVnaXN0cnkvRUdML3Nkay9kb2NzL21hbi8=">EGL Reference Pages<i class="fa fa-external-link-alt"></i></span></li><li><span class=exturl data-url="aHR0cHM6Ly93d3cua2hyb25vcy5vcmcvZmlsZXMvZWdsLTEtNC1xdWljay1yZWZlcmVuY2UtY2FyZC5wZGY=">1EGL 1.4 API Quick Reference Card<i class="fa fa-external-link-alt"></i></span></li></ul><h2 id=GLX><a href=#GLX class=headerlink title=GLX></a>GLX</h2><p><code>GLX</code>是OpenGL Extension to the X Window System的缩写。它作为x的扩展，是x协议和X server的一部分，已经包含在X server的代码中了。GLX提供了X window system使用的OpenGL接口，允许通过x调用OpenGL库。OpenGL 在使用时，需要与一个实际的窗口系统关联起来。</p><h2 id=GLX、EGL与OpenGL-ES之间的关系？？><a href=#GLX、EGL与OpenGL-ES之间的关系？？ class=headerlink title="GLX、EGL与OpenGL ES之间的关系？？"></a>GLX、EGL与OpenGL ES之间的关系？？</h2><blockquote><p>一般EGL和OpenGL ES使用时都会先利用egl函数(egl开头)创建opengl本地环境，然后再利用opengl函数(gl开头)去画图。</p></blockquote><p><strong>EGL代替的是原先WGL&#x2F;GLX那套context管理，跟图形API用的什么没关系</strong></p><figure class="highlight c"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre></td><td class=code><pre><span class=line>EGLBoolean <span class="title function_">eglBindAPI</span><span class=params>( 	EGLenum api)</span>;</span><br></pre></td></tr></table></figure><blockquote><p>Parameters api:<br>Specifies the client API to bind, one of <code>EGL_OPENGL_API</code>, <code>EGL_OPENGL_ES_API</code>, or <code>EGL_OPENVG_API</code>.</p></blockquote><h2 id=mesa><a href=#mesa class=headerlink title=mesa></a>mesa</h2><h3 id=Gallium><a href=#Gallium class=headerlink title=Gallium></a>Gallium</h3><ul><li><span class=exturl data-url="aHR0cHM6Ly9nYWxsaXVtLnJlYWR0aGVkb2NzLmlvL2VuL2xhdGVzdC8=">Gallium’s documentation<i class="fa fa-external-link-alt"></i></span></li><li><span class=exturl data-url=aHR0cHM6Ly9kcmkuZnJlZWRlc2t0b3Aub3JnL2RveHlnZW4vZ2FsbGl1bS9pbmRleC5odG1s>Gallium3D Documentation doxygen<i class="fa fa-external-link-alt"></i></span></li></ul><h2 id=DRI><a href=#DRI class=headerlink title=DRI></a>DRI</h2><ul><li><span class=exturl data-url="aHR0cHM6Ly93d3cueC5vcmcvd2lraS9FdmVudHMvWERDMjAxMy9YREMyMDEzRXJpY0FuaG9sdERSSU1lZ2Fkcml2ZXJzL3hkYy0yMDEzLW1lZ2Fkcml2ZXJzLnBkZg==">DRI megadrivers<i class="fa fa-external-link-alt"></i></span></li></ul><h2 id=Virgil><a href=#Virgil class=headerlink title=Virgil></a>Virgil</h2><blockquote><p>Virgil is an effort to provide 3D acceleration using <code>Gallium3D</code> for QEMU+KVM virtual machine guests.</p></blockquote><ul><li><span class=exturl data-url=aHR0cHM6Ly93d3cucGhvcm9uaXguY29tL3NjYW4ucGhwP3BhZ2U9c2VhcmNoJnE9VmlyZ2ls>Virgil Linux News<i class="fa fa-external-link-alt"></i></span></li><li><span class=exturl data-url=aHR0cHM6Ly94ZGMyMDE4Lngub3JnL3NsaWRlcy9WaXJnbF9QcmVzZW50YXRpb24ucGRm>What’s new in the virtual world?(pdf)<i class="fa fa-external-link-alt"></i></span></li><li><span class=exturl data-url="aHR0cHM6Ly9zdHVkaW9waXhsLmNvbS8yMDE4LTA3LTEyL3Z1bGthbi1pemUtdmlyZ2wuaHRtbA==">GSoC 2018 - Vulkan-ize Virglrenderer<i class="fa fa-external-link-alt"></i></span></li><li><span class=exturl data-url="aHR0cHM6Ly9zdHVkaW9waXhsLmNvbS8yMDE3LTA4LTI3LzNkLWFjY2VsZXJhdGlvbi11c2luZy12aXJ0aW8uaHRtbA==">GSoC 2017 - 3D acceleration using VirtIOGPU<i class="fa fa-external-link-alt"></i></span></li></ul><h3 id=virgl-protocol><a href=#virgl-protocol class=headerlink title=virgl_protocol></a>virgl_protocol</h3><p>It is composed of several components:</p><ul><li>a MESA driver, on the guest, which generates <code>Virgl commands</code></li><li>a lib, on the host, which takes virgl commands and generated OpenGL calls from it.</li></ul><h2 id=GPU-Driver><a href=#GPU-Driver class=headerlink title="GPU Driver"></a>GPU Driver</h2><h3 id=DRM><a href=#DRM class=headerlink title=DRM></a>DRM</h3><blockquote><p>he DRM core includes two memory managers, namely Translation Table Maps (TTM) and Graphics Execution Manager (GEM).</p></blockquote><ul><li><span class=exturl data-url=aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTI4MzkxODcvYXJ0aWNsZS9kZXRhaWxzLzg5ODc1ODAw>Linux GPU Driver Developer’s Guide<i class="fa fa-external-link-alt"></i></span></li><li><span class=exturl data-url="aHR0cDovL2p1Lm91dG9mbWVtb3J5LmNuL2VudHJ5LzE1ODkwOQ==">DRM memory management - 最好的GEM&#x2F;TTM&#x2F;PRIME解释<i class="fa fa-external-link-alt"></i></span></li></ul><h2 id=piglit><a href=#piglit class=headerlink title=piglit></a>piglit</h2><h2 id=GLSL><a href=#GLSL class=headerlink title=GLSL></a>GLSL</h2><blockquote><p>OpenGL着色语言（OpenGL Shading Language）是用来在OpenGL中着色编程的语言，也即开发人员写的短小的自定义程序，他们是在图形卡的GPU （Graphic Processor Unit图形处理单元）上执行的，代替了固定的渲染管线的一部分，使渲染管线中不同层次具有可编程性。</p></blockquote><h2 id=X-org><a href=#X-org class=headerlink title=X.org></a>X.org</h2><p>2018年X.Org开发者大会相关文档和视频（网络原因视频看不了）</p><ul><li><span class=exturl data-url="aHR0cHM6Ly93d3cueC5vcmcvd2lraS9FdmVudHMvWERDMjAxOC8=">https://www.x.org/wiki/Events/XDC2018/<i class="fa fa-external-link-alt"></i></span></li></ul><h2 id=graphics-pipeline><a href=#graphics-pipeline class=headerlink title="graphics pipeline"></a>graphics pipeline</h2><p><img data-src=/images/2020/07/graphics_pipeline.png alt=graphics_pipeline></p><blockquote><p><span class=exturl data-url="aHR0cHM6Ly93d3cuc2Vhcy51cGVubi5lZHUvfmNpczU2NS9MRUNUVVJFUy9MZWN0dXJlMg==">https://www.seas.upenn.edu/~cis565/LECTURES/Lecture2<i class="fa fa-external-link-alt"></i></span> New.pdf</p></blockquote><h2 id=参考><a href=#参考 class=headerlink title=参考></a>参考</h2><ul><li><span class=exturl data-url="aHR0cHM6Ly9naXRsYWIuY29tL3NwaWNlL3dpbjMyL3ZpcnRpby1ncHUtd2RkbS1kb2Q=">virtio-gpu-wddm-dod<i class="fa fa-external-link-alt"></i></span></li><li><span class=exturl data-url=aHR0cHM6Ly9naXRodWIuY29tL0tlZW51dHMvdmlydGlvLWdwdS13aW4taWNk>OpenGL ICD for Virtio-GPU Windows driver(Github)<i class="fa fa-external-link-alt"></i></span></li><li><span class=exturl data-url="aHR0cHM6Ly9kb2NzLm9hc2lzLW9wZW4ub3JnL3ZpcnRpby92aXJ0aW8vdjEuMS9jczAxL3ZpcnRpby12MS4xLWNzMDEuaHRtbA==">Virtual I&#x2F;O Device (VIRTIO) Version 1.1<i class="fa fa-external-link-alt"></i></span></li><li><span class=exturl data-url="aHR0cHM6Ly9zdHVkaW9waXhsLmNvbS8yMDE3LTA4LTI3LzNkLWFjY2VsZXJhdGlvbi11c2luZy12aXJ0aW8uaHRtbA==">GSoC 2017 - 3D acceleration using VirtIOGPU<i class="fa fa-external-link-alt"></i></span></li><li><span class=exturl data-url="aHR0cHM6Ly9zdHVkaW9waXhsLmNvbS8yMDE4LTA3LTEyL3Z1bGthbi1pemUtdmlyZ2wuaHRtbA==">GSoC 2018 - Vulkan-ize Virglrenderer<i class="fa fa-external-link-alt"></i></span></li><li><span class=exturl data-url="aHR0cHM6Ly9tZXNhbWF0cml4Lm5ldC8=">The OpenGL vs Mesa matrix<i class="fa fa-external-link-alt"></i></span></li><li><span class=exturl data-url="aHR0cHM6Ly9tZW1jcHkuaW8vdmlydHVhbGl6aW5nLWdwdS1hY2Nlc3MuaHRtbA==">Virtualizing GPU Access<i class="fa fa-external-link-alt"></i></span></li><li><span class=exturl data-url="aHR0cHM6Ly93d3cua3JheGVsLm9yZy9ibG9nLw==">kraxel’s news<i class="fa fa-external-link-alt"></i></span> — virgl and qemu</li><li><span class=exturl data-url="aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2h1YW5nOTg3MjQ2NTEwL2FydGljbGUvZGV0YWlscy8xMDc3Mjk4ODE=">VirtIO GPU基本原理<i class="fa fa-external-link-alt"></i></span></li></ul></div><footer class=post-footer><div class=post-copyright><ul><li class=post-copyright-author><strong>本文作者：</strong>winddoing</li><li class=post-copyright-link><strong>本文链接：</strong> <a href=https://winddoing.github.io/post/56420.html title="Virtio GPU">https://winddoing.github.io/post/56420.html</a></li><li class=post-copyright-license><strong>版权声明：</strong>本博客所有文章除特别声明外，均采用 <span class=exturl data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC8="><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div><div class=post-tags><a href="/tags/gpu/" rel=tag><i class="fa fa-tag"></i> gpu</a> <a href="/tags/virtio/" rel=tag><i class="fa fa-tag"></i> virtio</a></div><div class=post-nav><div class=post-nav-item><a href=/post/1467.html rel=prev title=USB中OTG功能的实现><i class="fa fa-chevron-left"></i> USB中OTG功能的实现</a></div><div class=post-nav-item><a href=/post/8229.html rel=next title=linux下出现死机的处理方法>linux下出现死机的处理方法 <i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div class="comments utterances-container"></div></div></main><footer class=footer><div class=footer-inner><div class=copyright>&copy; 2014 – <span itemprop=copyrightYear>2023</span> <span class=with-love><i class="fa fa-heart"></i></span> <span class=author itemprop=copyrightHolder>winddoing</span></div><div class=wordcount><span class=post-meta-item><span class=post-meta-item-icon><i class="fa fa-chart-line"></i></span> <span title=站点总字数>1.1m</span></span> <span class=post-meta-item><span class=post-meta-item-icon><i class="fa fa-coffee"></i></span> <span title=站点阅读时长>16:21</span></span></div><div class=busuanzi-count><span class=post-meta-item id=busuanzi_container_site_uv><span class=post-meta-item-icon><i class="fa fa-users"></i></span> <span class=site-uv title=总访客量><span id=busuanzi_value_site_uv></span></span></span> <span class=post-meta-item id=busuanzi_container_site_pv><span class=post-meta-item-icon><i class="fa fa-eye"></i></span> <span class=site-pv title=总访问量><span id=busuanzi_value_site_pv></span></span></span></div><div class=powered-by>由 <span class=exturl data-url=aHR0cHM6Ly9oZXhvLmlv>Hexo</span> & <span class=exturl data-url="aHR0cHM6Ly90aGVtZS1uZXh0LmpzLm9yZy9taXN0Lw==">NexT.Mist</span> 强力驱动</div></div></footer><script src=https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/next-theme-pjax/0.5.0/pjax.min.js integrity="sha256-3NkoLDrmHLTYj7csHIZSr0MHAFTXth7Ua/DDt4MRUAg=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/lozad.js/1.16.0/lozad.min.js integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/pangu/4.0.7/pangu.min.js integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" crossorigin=anonymous></script><script src=/js/comments.js></script><script src=/js/utils.js></script><script src=/js/motion.js></script><script src=/js/schemes/muse.js></script><script src=/js/next-boot.js></script><script src=/js/pjax.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.0/search.js integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin=anonymous></script><script src=/js/third-party/search/local-search.js></script><script class=next-config data-name=pdf type=application/json>{"object_url":{"url":"https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.2.8/pdfobject.min.js","integrity":"sha256-tu9j5pBilBQrWSDePOOajCUdz6hWsid/lBNzK4KgEPM="},"url":"/lib/pdf/web/viewer.html"}</script><script src=/js/third-party/tags/pdf.js></script><script class=next-config data-name=mermaid type=application/json>{"enable":true,"theme":{"light":"default","dark":"dark"},"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mermaid/9.1.1/mermaid.min.js","integrity":"sha256-8L3O8tirFUa8Va4NSTAyIbHJeLd6OnlcxgupV9F77e0="}}</script><script src=/js/third-party/tags/mermaid.js></script><script src=/js/third-party/fancybox.js></script><script data-pjax async src=https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><script class=next-config data-name=leancloud_visitors type=application/json>{"enable":true,"app_id":"Q8qpjA3fOO7FEUBqcmcQFptF-gzGzoHsz","app_key":"tgUTq5bX3fVmn916EMRe65eJ","server_url":null,"security":false}</script><script src=/js/third-party/statistics/lean-analytics.js></script><script class=next-config data-name=enableMath type=application/json>false</script><script class=next-config data-name=mathjax type=application/json>{"enable":true,"tags":"none","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.1/es5/tex-mml-chtml.js","integrity":"sha256-hlC2uSQYTmPsrzGZTEQEg9PZ1a/+SV6VBCTclohf2og="}}</script><script src=/js/third-party/math/mathjax.js></script><script class=next-config data-name=utterances type=application/json>{"enable":true,"repo":"Winddoing/winddoing.github.io","issue_term":"title","theme":"github-light"}</script><script src=/js/third-party/comments/utterances.js></script></body></html>