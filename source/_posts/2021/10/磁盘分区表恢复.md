---
layout: post
title: 磁盘分区表恢复
date: '2021-10-16 14:01'
tags:
  - 分区
  - linux
categories:
  - 工具
---

最近在进行SD卡的分区与格式化时，为了方便将分区的几步操作实现脚本统一操作。最开始需要对SD的己有分区进行删除，直接通过dd进行操作`sudo dd if=/dev/zero of=/dev/sdb bs=1K count=1 seek=0`,在最初的脚本中将设备路径`/dev/sdb`直接写死，没有使用统一变量，导致在更换PC后进行分区时，误将硬盘（/dev/sdb）上的分区直接删除，实际SD设备路径是/dev/sdc。

经过网上查询可以通过`TestDisk`工具进行恢复，注意如果误删的是当前系统分区表，最好不要重启系统，将分区表恢复后，进行重启操作。

我是在发现脚本错误后，没有进行系统重启的情况下，确定已误删除磁盘分区表后，通过`TestDisk`将分区表进行恢复的。

<!--more-->

``` shell
sudo apt install testdisk
```

具体的操作可以根据软件提示或者网上教程进行，恢复分区表比恢复磁盘数据容易。
