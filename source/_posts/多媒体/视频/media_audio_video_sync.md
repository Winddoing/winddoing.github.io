---
layout: post
title: 音视频同步
date: '2018-08-17 15:31'
categories:
  - 多媒体
  - 视频
tags:
  - 视频
abbrlink: 56216
---

音视频同步主要指两类：
- a. 同一设备播放音视频数据之间的同步
- b. 不同设备（同一个音视频源通过组播播放）时，多个设备之间的音视频同步。（特例）
>在使用组播进行多路投放时，视频数据画面同步，但是音频数据不同步，没有丢音效果。

<!--more-->

## 同一设备

标准规定在原始音频和视频流中,`PTS`的间隔不能超过0.7s，出现在TS包头的PCR间隔不能超过0.1s。

同步模式：
- 以音频为准
- 以视频为准

>在音频和视频数据中的什么作为参考？？？

## 不同设备

![场景](/images/net/multicast/multicast_r_s_samp.png)
> **问题**：实际视频投放中，视频画面同步，但是音频数据存在不同步现象。

### 音频产生不同步的可能性：

1. 网络延时。
2. R端音频处理缓存区过大，数据处理之间存在时间差所致。
3. R端socket的接收buffer过大。

## 参考

- [FFmpeg学习6：视音频同步](https://www.cnblogs.com/wangguchangqing/p/5900426.html)
