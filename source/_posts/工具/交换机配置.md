---
layout: post
title: 交换机配置
date: '2020-09-10 16:31'
tags:
  - 交换机
categories:
  - 工具
abbrlink: e0896859
---

交换机配置相关信息：

<!--more-->



# 二层交换机

二层交换机属`数据链路层`设备，可以识别数据包中的MAC地址信息，根据MAC地址进行转发，并将这些`MAC地址`与对应的`端口`记录在自己内部的一个地址表中。



## 二层接口模式

交换机每一个端口可以配置为以下二层模式

- Access 模式:只接收没有 VLAN 标记的数据包,带有 VLAN 标记的数据包会被丢弃。接收到的数据包会自动标记为端口的 VLAN 信息,只能属于1个VLAN。通常用于服务器和交换机之间的链接。
- Trunk 模式:接收和发送带有 VLAN 标记的数据包,没有 VLAN 标记的数据包将被丢弃。这个模式可以配置多个 VLAN ID。
- Hybrid 模式:带有 VLAN 标记和没有 VLAN 标记的数据包均可以被接收, 同时传送多个VLAN的包

```
> show interfaces switchport

---------------------------------------------------------------------------------------
Interface         Mode           Access vlan          Allowed vlans
---------------------------------------------------------------------------------------
Eth1/1            access         1
Eth1/2            access         1
Eth1/3            access         1
Eth1/4            access         1
Eth1/5            access         1
Eth1/6            access         1
Eth1/7            access         1
Eth1/8            access         1
Eth1/9            access         1
Eth1/10           access         1
Eth1/11           access         1
```



# 三层交换机

三层交换技术就是将路由技术与交换技术合二为一的技术。在对第一个数据流进行路由后，它将会产生一个`MAC地址`与`IP地址`的映射表，当同样的数据流再次通过时，将根据此表直接从二层通过而不是再次路由，从而消除了路由器进行路由选择而造成网络的延迟，提高了数据包转发的效率。





# 基本配置

## 端口速度配置

```
master] > enable
master] # configure terminal
master] (config) # interface ethernet 1/6 speed 10G force
```
> 配置第6个端口的速率为10G
