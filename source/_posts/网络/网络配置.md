---
layout: post
title: 网络配置
date: '2020-03-11 10:59'
tags:
  - 网络
  - network
categories:
  - 网络
abbrlink: 18692
---

Linux系统中的相关网络配置问题

<!--more-->


## 网线不识别，网卡灯不亮

> 关闭网卡的自动协商功能，手动配置网卡速度和工作模式

解决命令：
``` shell
sudo ethtool -s enahisic2i0 autoneg off speed 100 duplex full
```
### ethtool

``` shell
ethtool [-s] ethX [speed 10|100|1000] [duplex half|full] [autoneg on|off] [port tp|aui|bnc|mii] [phyad N]
```

- `-s`: 修改网卡的部分配置，包括网卡速度、单工/全双工模式、mac地址等
- `autoneg on|off`: 设置网口是否自协商
- `duplex half|full`: 设置网口半/全双工
- `speed 10|100|1000`: 设置网口速率10/100/1000M

## netplan配置

![network_netplan](/images/2020/03/network_netplan.png)

### 图形界面网络管理配置

`NetworkManager`主要用于在桌面系统上管理网络设备。如果您使用`NetworkManager`作为网络设备管理的系统守护程序，将会使用 NetworkManager 的图形程序来管理网络接口。

```
# This file describes the network interfaces available on your system
# For more information, see netplan(5).
network:
  version: 2
  renderer: NetworkManager
```
> File: /etc/netplan/01-netcfg.yaml

``` shell
sudo netplan generate
sudo netplan apply
```


## 参考

- [YAML语言教程](https://mp.weixin.qq.com/s?__biz=MzI3MTI2NzkxMA==&mid=2247484080&idx=1&sn=3c5ca66a2dc63c285ca6d2db39f7e553&mpshare=1&scene=23&srcid=0613Bf6KoICw4XVpI9CZzkGE%23rd)
